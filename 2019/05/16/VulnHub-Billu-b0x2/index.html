<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1. GoalMachine Name: - Billu_b0x 2 Author Name: - Manish Kishan Tanwar (@indishell1046) This Virtual machine is using ubuntu (32 bit) Other packages used: - PHP Apache MySQL Apache tomcat This virtual">
<meta name="keywords" content="VulnHub">
<meta property="og:type" content="article">
<meta property="og:title" content="&#39;VulnHub Billu b0x2 Walkthrough&#39;">
<meta property="og:url" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/index.html">
<meta property="og:site_name" content="Emerald Dream">
<meta property="og:description" content="1. GoalMachine Name: - Billu_b0x 2 Author Name: - Manish Kishan Tanwar (@indishell1046) This Virtual machine is using ubuntu (32 bit) Other packages used: - PHP Apache MySQL Apache tomcat This virtual">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/02.01.nmap.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/02.02.exp_db.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/02.03.msf.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/02.04.exploit.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.01.777.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.02.openssl.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.03.passwd.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.04.upload.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.05.shell.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.06.high.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.07.file.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.08.strings.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/03.09.exploit.png">
<meta property="og:updated_time" content="2019-05-17T01:05:16.267Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="&#39;VulnHub Billu b0x2 Walkthrough&#39;">
<meta name="twitter:description" content="1. GoalMachine Name: - Billu_b0x 2 Author Name: - Manish Kishan Tanwar (@indishell1046) This Virtual machine is using ubuntu (32 bit) Other packages used: - PHP Apache MySQL Apache tomcat This virtual">
<meta name="twitter:image" content="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/02.01.nmap.png">





  
  
  <link rel="canonical" href="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>'VulnHub Billu b0x2 Walkthrough' | Emerald Dream</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Emerald Dream</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/yourname" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/05/16/VulnHub-Billu-b0x2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">'VulnHub Billu b0x2 Walkthrough'

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-16 17:06:46" itemprop="dateCreated datePublished" datetime="2019-05-16T17:06:46+08:00">2019-05-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-17 09:05:16" itemprop="dateModified" datetime="2019-05-17T09:05:16+08:00">2019-05-17</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-Goal"><a href="#1-Goal" class="headerlink" title="1. Goal"></a>1. Goal</h1><p>Machine Name: - Billu_b0x 2</p>
<p>Author Name: - Manish Kishan Tanwar (@indishell1046)</p>
<p>This Virtual machine is using ubuntu (32 bit)</p>
<p>Other packages used: -</p>
<p>PHP Apache MySQL Apache tomcat</p>
<p>This virtual machine is having intermediate to medium difficulty level. One need to break into VM using web application and from there escalate privileges to gain root access. Gaining low or root privilege shell can be done in two ways (for both)</p>
<a id="more"></a>
<p>获取低权限和root权限都有两种方法</p>
<h1 id="2-Web"><a href="#2-Web" class="headerlink" title="2. Web"></a>2. Web</h1><h2 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h2><p><img src="/2019/05/16/VulnHub-Billu-b0x2/02.01.nmap.png" alt></p>
<p>在Nmap扫描结果里可以看到比较重要的2个端口：80和8080</p>
<p>80端口的页面是使用drupal 8搭建的</p>
<p>在<a href="https://www.exploit-db.com/" target="_blank" rel="noopener">exploit db</a>上搜索<code>drupal 8</code></p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/02.02.exp_db.png" alt></p>
<p>看到了Metasploit上的EXP，打开Metasploit</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/02.03.msf.png" alt></p>
<p>exploit</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/02.04.exploit.png" alt></p>
<p>成功获得shell</p>
<p>不过作者说有2种方法获得低级shell</p>
<h1 id="3-渗透"><a href="#3-渗透" class="headerlink" title="3. 渗透"></a>3. 渗透</h1><h2 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h2><p>修改<code>/etc/passwd</code></p>
<p>在查看文件时，发现<code>/etc/passwd</code>的权限是777</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.01.777.png" alt></p>
<p>即使是<code>www-data</code>也有操作权限<br>而且由于<code>/etc/passwd</code>的优先级高于<code>/etc/shadow</code>所以可以修改<code>/etc/passwd</code>文件获取root权限</p>
<p>直接使用vim修改，因为shell的原因无法修改，所以选择上传一个新的<code>passwd</code>文件上去</p>
<p>使用python搭建服务器，下载<code>/etc/passwd</code>，也可以cat<code>/etc/passwd</code>复制内容到本地进行修改</p>
<p>在修改前，需要生成密码，在靶机中使用openssl生成密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl passwd -1 &apos;chessur&apos;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.02.openssl.png" alt></p>
<p>生成密码后，将root的<code>x</code>替换为密码，或修改<code>indishell</code>用户的密码，并将UID和GID改为<code>0:0</code>拥有root权限</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.03.passwd.png" alt></p>
<p>将修改好的<code>passwd</code>文件，先传到Kali的目录中，如<code>/tmp</code></p>
<p>在meterpreter中上传<code>passwd</code>即可</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.04.upload.png" alt></p>
<p>切换root用户</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.05.shell.png" alt></p>
<h2 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h2><p>使用高权限操作提权</p>
<p>寻找带有高权限的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -perm -u=s -type f 2&gt;/dev/null</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.06.high.png" alt></p>
<p>查看文件</p>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.07.file.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strings s</span><br><span class="line">//strings 打印文件中可打印的字符</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.08.strings.png" alt></p>
<p>添加PATH</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp</span><br><span class="line">echo &apos;/bin/bash&apos; &gt; /tmp/scp</span><br><span class="line">export PATH=/tmp:$PATH</span><br><span class="line">cd /opt</span><br><span class="line">./s</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/16/VulnHub-Billu-b0x2/03.09.exploit.png" alt></p>
<h1 id="4-总结"><a href="#4-总结" class="headerlink" title="4. 总结"></a>4. 总结</h1><p>1.<code>/etc/passwd</code>和 <code>/etc/shadow</code>的优先级<br>如果passwd可写，可以把root的密码字段(x)替换成一个已知密码的hash（比如本机shadow里面的root密码hash），这样系统在验证密码时以passwd的为准，密码就已知了。如果shadow可读，我们可以读走root的hash，然后用hashcat或者john暴力破解之。<br>2.使用xshell连接kali获得shell无法退格，而在kali虚拟机中获得shell可以退格<br>3.msf upload<br>4.修改PATH提权：<br><a href="https://www.hackingarticles.in/linux-privilege-escalation-using-path-variable/" target="_blank" rel="noopener">Linux Privilege Escalation Using PATH Variable</a><br>翻译：<a href="https://www.freebuf.com/articles/system/173903.html" target="_blank" rel="noopener">在Linux中使用环境变量进行提权</a><br><a href="https://www.pentestpartners.com/security-blog/exploiting-suid-executables/" target="_blank" rel="noopener">Exploiting SUID Executables</a><br>5.反弹Shell：<br><a href="http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet" target="_blank" rel="noopener">Reverse Shell Cheat Sheet</a><br>6.提权前信息收集：<br><a href="https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/" target="_blank" rel="noopener">Basic Linux Privilege Escalation</a><br>7.提权：<br><a href="https://www.freebuf.com/articles/system/129549.html" target="_blank" rel="noopener">Linux提权：从入门到放弃</a></p>
<h1 id="5-参考"><a href="#5-参考" class="headerlink" title="5. 参考"></a>5. 参考</h1><p>[1] <a href="https://blog.csdn.net/SouthWind0/article/details/83589467" target="_blank" rel="noopener">渗透Billu b0x2靶机</a></p>
<p>[2] <a href="https://www.hackingarticles.in/hack-the-billu-b0x-2-vm-boot-to-root/" target="_blank" rel="noopener">Hack the billu: b0x 2 VM (Boot to Root)</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/VulnHub/" rel="tag"># VulnHub</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/16/VulnHub-Billu-b0x/" rel="next" title="'VulnHub Billu b0x Walkthrough'">
                <i class="fa fa-chevron-left"></i> 'VulnHub Billu b0x Walkthrough'
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/17/Python-Notes/" rel="prev" title="'Python Notes'">
                'Python Notes' <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">chessur</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">34</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ChireC" title="GitHub &rarr; https://github.com/ChireC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Goal"><span class="nav-text">1. Goal</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Web"><span class="nav-text">2. Web</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Nmap"><span class="nav-text">Nmap</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-渗透"><span class="nav-text">3. 渗透</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#方法1"><span class="nav-text">方法1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法2"><span class="nav-text">方法2</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-总结"><span class="nav-text">4. 总结</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-参考"><span class="nav-text">5. 参考</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chessur</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').not('.gist .highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('Copied');
        else $(this).text('Copy failed');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('Copy');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
